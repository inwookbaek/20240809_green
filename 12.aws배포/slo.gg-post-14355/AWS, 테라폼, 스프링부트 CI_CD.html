<html lang="ko" class="light" style="color-scheme: light;"><head><link rel="stylesheet" href="/_next/static/css/633df8daa41589d8.css" data-precedence="next"><link rel="stylesheet" href="/_next/static/css/b602d8c0ce3e74c0.css" data-precedence="next"><link rel="stylesheet" href="/_next/static/css/7359c2d853763fd1.css" data-precedence="next"><link rel="preload" as="script" fetchpriority="low" href="/_next/static/chunks/webpack-719341c009761ec7.js"><script src="/_next/static/chunks/4bd1b696-29edb0435b68e79e.js" async=""></script><script src="/_next/static/chunks/1684-0adbab1a41f3d54a.js" async=""></script><script src="/_next/static/chunks/main-app-eae061ac6677af08.js" async=""></script><script src="/_next/static/chunks/5514-6334018b6430ffe5.js" async=""></script><script src="/_next/static/chunks/6874-41ff0b9603d87107.js" async=""></script><script src="/_next/static/chunks/649-e7460d83749ab18f.js" async=""></script><script src="/_next/static/chunks/5540-eee45d282ea97ccc.js" async=""></script><script src="/_next/static/chunks/6766-3abcb46c51a6cba8.js" async=""></script><script src="/_next/static/chunks/6403-5572390b6fe64ac9.js" async=""></script><script src="/_next/static/chunks/655-adb5e854295ed106.js" async=""></script><script src="/_next/static/chunks/app/layout-7b8d9f288b3cc27f.js" async=""></script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" nomodule=""></script><link rel="preload" href="/_next/static/media/ff840cfebfb63b0c-s.p.woff2" as="font" crossorigin="" type="font/woff2"><style type="text/css">[data-vaul-drawer]{touch-action:none;will-change:transform;transition:transform .5s cubic-bezier(.32, .72, 0, 1);animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=open]{animation-name:slideFromBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=bottom][data-state=closed]{animation-name:slideToBottom}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=open]{animation-name:slideFromTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=top][data-state=closed]{animation-name:slideToTop}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=open]{animation-name:slideFromLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=left][data-state=closed]{animation-name:slideToLeft}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=open]{animation-name:slideFromRight}[data-vaul-drawer][data-vaul-snap-points=false][data-vaul-drawer-direction=right][data-state=closed]{animation-name:slideToRight}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--initial-transform,100%),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}[data-vaul-drawer][data-vaul-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--initial-transform,100%),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=top]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=bottom]{transform:translate3d(0,var(--snap-point-height,0),0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=left]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-drawer][data-vaul-delayed-snap-points=true][data-vaul-drawer-direction=right]{transform:translate3d(var(--snap-point-height,0),0,0)}[data-vaul-overlay][data-vaul-snap-points=false]{animation-duration:.5s;animation-timing-function:cubic-bezier(0.32,0.72,0,1)}[data-vaul-overlay][data-vaul-snap-points=false][data-state=open]{animation-name:fadeIn}[data-vaul-overlay][data-state=closed]{animation-name:fadeOut}[data-vaul-animate=false]{animation:none!important}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:0;transition:opacity .5s cubic-bezier(.32, .72, 0, 1)}[data-vaul-overlay][data-vaul-snap-points=true]{opacity:1}[data-vaul-drawer]:not([data-vaul-custom-container=true])::after{content:'';position:absolute;background:inherit;background-color:inherit}[data-vaul-drawer][data-vaul-drawer-direction=top]::after{top:initial;bottom:100%;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=bottom]::after{top:100%;bottom:initial;left:0;right:0;height:200%}[data-vaul-drawer][data-vaul-drawer-direction=left]::after{left:initial;right:100%;top:0;bottom:0;width:200%}[data-vaul-drawer][data-vaul-drawer-direction=right]::after{left:100%;right:initial;top:0;bottom:0;width:200%}[data-vaul-overlay][data-vaul-snap-points=true]:not([data-vaul-snap-points-overlay=true]):not(
[data-state=closed]
){opacity:0}[data-vaul-overlay][data-vaul-snap-points-overlay=true]{opacity:1}[data-vaul-handle]{display:block;position:relative;opacity:.7;background:#e2e2e4;margin-left:auto;margin-right:auto;height:5px;width:32px;border-radius:1rem;touch-action:pan-y}[data-vaul-handle]:active,[data-vaul-handle]:hover{opacity:1}[data-vaul-handle-hitarea]{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:max(100%,2.75rem);height:max(100%,2.75rem);touch-action:inherit}@media (hover:hover) and (pointer:fine){[data-vaul-drawer]{user-select:none}}@media (pointer:fine){[data-vaul-handle-hitarea]:{width:100%;height:100%}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeOut{to{opacity:0}}@keyframes slideFromBottom{from{transform:translate3d(0,var(--initial-transform,100%),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToBottom{to{transform:translate3d(0,var(--initial-transform,100%),0)}}@keyframes slideFromTop{from{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}to{transform:translate3d(0,0,0)}}@keyframes slideToTop{to{transform:translate3d(0,calc(var(--initial-transform,100%) * -1),0)}}@keyframes slideFromLeft{from{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToLeft{to{transform:translate3d(calc(var(--initial-transform,100%) * -1),0,0)}}@keyframes slideFromRight{from{transform:translate3d(var(--initial-transform,100%),0,0)}to{transform:translate3d(0,0,0)}}@keyframes slideToRight{to{transform:translate3d(var(--initial-transform,100%),0,0)}}</style><style type="text/css">[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}</style><title>AWS, 테라폼, 스프링부트 CI/CD</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="next-size-adjust" content=""><meta name="description" content="관련링크 - fly.io - slog.gg/p/14350 1강 - 25 04 14, p 14355, 1강, 서버 생성 방법 3가지 - AWS - 콘솔 - https://aws.amazon.com/ko/console 설명 - AWS(Amazon Web Services)는 아마존에서 ..."><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"><link rel="preload" as="style" href="/_next/static/css/b602d8c0ce3e74c0.css"><link rel="preload" as="style" href="/_next/static/css/7359c2d853763fd1.css"></head><body class="__variable_fde3a9 __className_fde3a9 antialiased"><div class="flex flex-col min-h-[100dvh] bg-background" vaul-drawer-wrapper="true"><script nonce="">((e,t,n,r,a,o,i,l)=>{let u=document.documentElement,d=["light","dark"];function s(t){var n;(Array.isArray(e)?e:[e]).forEach(e=>{let n="class"===e,r=n&&o?a.map(e=>o[e]||e):a;n?(u.classList.remove(...r),u.classList.add(o[t]||t)):u.setAttribute(e,t)}),n=t,l&&d.includes(n)&&(u.style.colorScheme=n)}if(r)s(r);else try{let e=localStorage.getItem(t)||n,r=i&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;s(r)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><header><div class="flex sm:hidden py-1"><button data-slot="drawer-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive text-primary underline-offset-4 hover:underline h-9 px-4 py-2 has-[>svg]:px-3" type="button" aria-haspopup="dialog" aria-expanded="false" aria-controls="radix-«rs»" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><a data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive text-primary underline-offset-4 hover:underline h-9 px-4 py-2 has-[>svg]:px-3" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-triangle"><path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path></svg> </a><div class="flex-grow"></div><a href="https://api.slog.gg/oauth2/authorization/kakao?redirectUrl=https://www.slog.gg" data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive text-primary underline-offset-4 hover:underline h-9 px-4 py-2 has-[>svg]:px-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-in"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" x2="3" y1="12" y2="12"></line></svg></a><button data-slot="dropdown-menu-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive text-primary underline-offset-4 hover:underline h-9 px-4 py-2 has-[>svg]:px-3" type="button" id="radix-«rv»" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">테마</span></button></div><div class="hidden sm:flex container mx-auto py-1"><a data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive text-primary underline-offset-4 hover:underline h-9 px-4 py-2 has-[>svg]:px-3" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-triangle"><path d="M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"></path></svg> <span>슬로그</span></a><a data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive text-primary underline-offset-4 hover:underline h-9 px-4 py-2 has-[>svg]:px-3" href="/post/list"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-table-of-contents"><path d="M16 12H3"></path><path d="M16 18H3"></path><path d="M16 6H3"></path><path d="M21 12h.01"></path><path d="M21 18h.01"></path><path d="M21 6h.01"></path></svg> 글</a><div class="flex-grow"></div><a href="https://api.slog.gg/oauth2/authorization/kakao?redirectUrl=https://www.slog.gg" data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive text-primary underline-offset-4 hover:underline h-9 px-4 py-2 has-[>svg]:px-3"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-in"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" x2="3" y1="12" y2="12"></line></svg></a><button data-slot="dropdown-menu-trigger" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive text-primary underline-offset-4 hover:underline h-9 px-4 py-2 has-[>svg]:px-3" type="button" id="radix-«r11»" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"><circle cx="12" cy="12" r="4"></circle><path d="M12 2v2"></path><path d="M12 20v2"></path><path d="m4.93 4.93 1.41 1.41"></path><path d="m17.66 17.66 1.41 1.41"></path><path d="M2 12h2"></path><path d="M20 12h2"></path><path d="m6.34 17.66-1.41 1.41"></path><path d="m19.07 4.93-1.41 1.41"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"></path></svg><span class="sr-only">테마</span></button></div></header><main class="flex-1 flex flex-col"><main class="container mt-2 mx-auto px-2"><div data-slot="card" class="bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm"><div data-slot="card-header" class="flex flex-col gap-1.5 px-6"><div data-slot="card-title" class="leading-none font-semibold mb-4 flex items-center gap-2"><span data-slot="badge" class="inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&amp;>svg]:size-3 gap-1 [&amp;>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden text-foreground [a&amp;]:hover:bg-accent [a&amp;]:hover:text-accent-foreground">14355</span><div>AWS, 테라폼, 스프링부트 CI/CD</div></div><div data-slot="card-description" class="text-muted-foreground text-sm sr-only">게시물 상세내용</div><div class="flex items-center gap-4 flex-wrap"><div class="flex items-center gap-4 w-full sm:w-auto"><img alt="차태진" loading="lazy" width="40" height="40" decoding="async" data-nimg="1" class="w-[40px] h-[40px] object-cover rounded-full ring-2 ring-primary/10" srcset="/_next/image?url=http%3A%2F%2Fk.kakaocdn.net%2Fdn%2FbnSIxT%2FbtsLAg3sbMP%2FXdSSRQIXjBheIiKrCaYbFk%2Fimg_640x640.jpg&amp;w=48&amp;q=100 1x, /_next/image?url=http%3A%2F%2Fk.kakaocdn.net%2Fdn%2FbnSIxT%2FbtsLAg3sbMP%2FXdSSRQIXjBheIiKrCaYbFk%2Fimg_640x640.jpg&amp;w=96&amp;q=100 2x" src="/_next/image?url=http%3A%2F%2Fk.kakaocdn.net%2Fdn%2FbnSIxT%2FbtsLAg3sbMP%2FXdSSRQIXjBheIiKrCaYbFk%2Fimg_640x640.jpg&amp;w=96&amp;q=100" style="color: transparent;"><div><div class="text-sm font-medium text-foreground">차태진</div><div class="text-sm text-muted-foreground">25. 04. 14. 오전 05:57</div></div></div><div class="flex-grow"></div><div class="flex items-center gap-2"></div></div></div><div data-slot="card-content" class="px-6"><div><div class="toastui-editor-contents" style="overflow-wrap: break-word;"><h1 data-nodeid="1" id="관련링크">관련링크</h1>
<ul data-nodeid="2">
<li data-nodeid="3">
<p data-nodeid="4"><a data-nodeid="1181" target="_blank" href="https://www.slog.gg/p/14350#f">fly.io - slog.gg/p/14350</a></p>
</li>
</ul>
<h1 data-nodeid="5" id="1강">1강</h1>
<ul data-nodeid="6">
<li data-nodeid="7">
<p data-nodeid="8"><a data-nodeid="1185" target="_blank" href="https://www.youtube.com/watch?v=5hxttSjMPNQ">25 04 14, p 14355, 1강, 서버 생성 방법 3가지</a></p>
</li>
<li data-nodeid="9">
<p data-nodeid="10"><a data-nodeid="1188" target="_blank" href="https://aws.amazon.com/ko/console">AWS - 콘솔 - https://aws.amazon.com/ko/console</a></p>
</li>
</ul>
<h2 data-nodeid="11" id="설명">설명</h2>
<ul data-nodeid="12">
<li data-nodeid="13">
<p data-nodeid="14">AWS(Amazon Web Services)는 아마존에서 제공하는 클라우드 컴퓨팅 서비스입니다.</p>
</li>
<li data-nodeid="15">
<p data-nodeid="16">서버, 스토리지, 데이터베이스, 네트워킹, 분석, 기계 학습, 인공 지능, 모바일, 개발 도구 등 다양한 서비스를 제공합니다.</p>
</li>
<li data-nodeid="17">
<p data-nodeid="18">초기 투자 비용 없이 사용한 만큼만 지불하는 종량제 방식으로 운영됩니다.</p>
</li>
<li data-nodeid="19">
<p data-nodeid="20">전 세계 여러 리전에 데이터 센터를 두고 있어 글로벌 서비스 제공이 용이합니다.</p>
</li>
<li data-nodeid="21">
<p data-nodeid="22">높은 확장성과 안정성을 제공하여 스타트업부터 대기업까지 다양한 규모의 기업에서 활용합니다.</p>
</li>
</ul>
<h1 data-nodeid="23" id="2강">2강</h1>
<ul data-nodeid="24">
<li data-nodeid="25">
<p data-nodeid="26"><a data-nodeid="1198" target="_blank" href="https://www.youtube.com/watch?v=g1Uxf9ENvwY">25 04 14, p 14355, 2강, 테라폼 개요</a></p>
</li>
</ul>
<h2 data-nodeid="27" id="설명">설명</h2>
<ul data-nodeid="28">
<li data-nodeid="29">
<p data-nodeid="30">테라폼(Terraform)은 HashiCorp에서 개발한 인프라스트럭처를 코드로 관리하는(IaC, Infrastructure as Code) 오픈소스 도구입니다.</p>
</li>
<li data-nodeid="31">
<p data-nodeid="32">선언적 구성 파일을 사용하여 클라우드 리소스를 생성, 관리, 업데이트할 수 있습니다.</p>
<ul data-nodeid="33">
<li data-nodeid="34">
<p data-nodeid="35">마치 HTML 태그로 엘리먼트를 만들듯이 서버 자원을 직관적으로 다룰 수 있습니다.</p>
</li>
</ul>
</li>
<li data-nodeid="36">
<p data-nodeid="37">AWS, Azure, Google Cloud 등 다양한 클라우드 제공업체를 지원합니다.</p>
</li>
<li data-nodeid="38">
<p data-nodeid="39">버전 관리가 가능하여 인프라 변경 사항을 추적하고 협업할 수 있습니다.</p>
</li>
<li data-nodeid="40">
<p data-nodeid="41">코드로 인프라를 관리하므로 반복 가능하고 일관된 환경을 구축할 수 있습니다.</p>
</li>
<li data-nodeid="42">
<p data-nodeid="43">리소스 간의 종속성을 자동으로 처리하여 올바른 순서로 리소스를 생성합니다.</p>
<ul data-nodeid="44">
<li data-nodeid="45">
<p data-nodeid="46">의존성에 따라서 VPC를 먼저 만들고 그 이후에 EC2를 만드는 식으로 작동합니다.</p>
</li>
</ul>
</li>
<li data-nodeid="47">
<p data-nodeid="48">AWS 콘솔을 통해 EC2 인스턴스 100개를 생성하는 것은 반복적이고 시간이 많이 소요되는 작업입니다.</p>
</li>
<li data-nodeid="49">
<p data-nodeid="50">테라폼을 사용하면 코드로 인프라를 정의하여 단 몇 줄의 코드로 100개의 EC2 인스턴스를 생성할 수 있습니다.</p>
</li>
<li data-nodeid="51">
<p data-nodeid="52">테라폼과 ChatGPT의 조합은 인프라 관리에 있어 최고의 효율성을 제공합니다.</p>
<ul data-nodeid="53">
<li data-nodeid="54">
<p data-nodeid="55">물론 다른 LLM(클로드, 제미나이 등)을 사용하셔도 됩니다.</p>
</li>
</ul>
</li>
<li data-nodeid="56">
<p data-nodeid="57">ChatGPT는 테라폼 코드 작성을 도와주고, 복잡한 인프라 구성을 간단한 자연어 설명으로부터 생성할 수 있습니다.</p>
</li>
<li data-nodeid="58">
<p data-nodeid="59">개발자는 "EC2 인스턴스 100개를 생성하는 테라폼 코드를 작성해줘"와 같은 요청만으로 필요한 코드를 얻을 수 있습니다.</p>
</li>
<li data-nodeid="60">
<p data-nodeid="61">이 조합은 인프라 코드 작성 시간을 대폭 줄이고, 실수를 방지하며, 클라우드 리소스 관리의 효율성을 극대화합니다.</p>
</li>
<li data-nodeid="62">
<p data-nodeid="63">테라폼의 선언적 접근 방식과 ChatGPT의 코드 생성 능력이 결합되어 클라우드 인프라 관리의 새로운 패러다임을 제시합니다.</p>
</li>
</ul>
<h1 data-nodeid="64" id="3강">3강</h1>
<ul data-nodeid="65">
<li data-nodeid="66">
<p data-nodeid="67"><a data-nodeid="1223" target="_blank" href="https://www.youtube.com/watch?v=VALl4ThRqdQ">25 04 14, p 14355, 3강, MFA 설정</a></p>
</li>
</ul>
<h2 data-nodeid="68" id="설명">설명</h2>
<ul data-nodeid="69">
<li data-nodeid="70">
<p data-nodeid="71">추가 인증 채널을 설정하여 보안을 강화합니다.</p>
</li>
<li data-nodeid="72">
<p data-nodeid="73">예를 들어 모바일 앱에서 인증 코드를 입력하는 방식으로 보안을 강화할 수 있습니다.</p>
<ul data-nodeid="74">
<li data-nodeid="75">
<p data-nodeid="76">호환되는 모바일 앱은 문서에서 확인 가능합니다.</p>
</li>
</ul>
</li>
</ul>
<h1 data-nodeid="77" id="4강">4강</h1>
<ul data-nodeid="78">
<li data-nodeid="79">
<p data-nodeid="80"><a data-nodeid="1231" target="_blank" href="https://www.youtube.com/watch?v=Fu8llo2yetg">25 04 14, p 14355, 4강, AWS는 다수의 서비스를 제공하고 그 중 계정에 관련된 서비스는 IAM 입니다. admin 계정 생성</a></p>
</li>
</ul>
<h2 data-nodeid="81" id="AWS-의-대표-서비스들">AWS 의 대표 서비스들</h2>
<ul data-nodeid="82">
<li data-nodeid="83">
<p data-nodeid="84">IAM : 사용자 계정 및 권한 관리 서비스</p>
</li>
<li data-nodeid="85">
<p data-nodeid="86">EC2 : 가상 서버 인스턴스 제공 서비스</p>
</li>
<li data-nodeid="87">
<p data-nodeid="88">S3 : 확장성 있는 객체 스토리지 서비스</p>
</li>
<li data-nodeid="89">
<p data-nodeid="90">RDS : 관계형 데이터베이스 서비스</p>
</li>
<li data-nodeid="91">
<p data-nodeid="92">Lambda : 서버리스 컴퓨팅 서비스</p>
</li>
<li data-nodeid="93">
<p data-nodeid="94">DynamoDB : NoSQL 데이터베이스 서비스</p>
</li>
<li data-nodeid="95">
<p data-nodeid="96">CloudFront : 콘텐츠 전송 네트워크(CDN) 서비스</p>
</li>
<li data-nodeid="97">
<p data-nodeid="98">VPC : 가상 사설 클라우드 네트워크 서비스</p>
</li>
<li data-nodeid="99">
<p data-nodeid="100">Route 53 : DNS 웹 서비스</p>
</li>
<li data-nodeid="101">
<p data-nodeid="102">CloudWatch : 모니터링 및 관찰 서비스</p>
</li>
</ul>
<h2 data-nodeid="103" id="루트계정과-IAM-계정의-관계">루트계정과 IAM 계정의 관계</h2>
<ul data-nodeid="104">
<li data-nodeid="105">
<p data-nodeid="106">루트계정 하나로 여러개의 IAM 계정을 만들 수 있습니다.</p>
</li>
<li data-nodeid="107">
<p data-nodeid="108">루트계정은 AWS 계정을 처음 생성할 때 만들어지는 최상위 관리자 계정입니다.</p>
</li>
<li data-nodeid="109">
<p data-nodeid="110">루트계정은 모든 AWS 서비스와 리소스에 대한 완전한 접근 권한을 가지고 있습니다.</p>
</li>
<li data-nodeid="111">
<p data-nodeid="112">보안상의 이유로 루트계정은 일상적인 작업에 사용하지 않는 것이 권장됩니다.</p>
</li>
<li data-nodeid="113">
<p data-nodeid="114">IAM 계정은 루트계정에서 생성한 사용자 계정으로, 특정 권한만 부여받을 수 있습니다.</p>
</li>
<li data-nodeid="115">
<p data-nodeid="116">IAM을 통해 여러 사용자에게 필요한 권한만 부여하여 보안을 강화할 수 있습니다.</p>
</li>
<li data-nodeid="117">
<p data-nodeid="118">일반적으로 관리자 권한을 가진 IAM 사용자를 생성하여 대부분의 관리 작업을 수행합니다.</p>
</li>
<li data-nodeid="119">
<p data-nodeid="120">루트계정은 IAM 사용자 생성, 계정 해지, 결제 정보 변경 등 중요한 작업에만 사용하는 것이 좋습니다.</p>
</li>
</ul>
<h2 data-nodeid="121" id="루트계정이-있는데-admin-IAM-계정을-만들어서-사용하는-이유">루트계정이 있는데 admin IAM 계정을 만들어서 사용하는 이유</h2>
<ul data-nodeid="122">
<li data-nodeid="123">
<p data-nodeid="124">루트계정은 AWS 계정의 모든 권한을 가진 최상위 계정으로, 해킹 시 심각한 보안 위험이 있습니다.</p>
</li>
<li data-nodeid="125">
<p data-nodeid="126">admin IAM 계정은 AdministratorAccess 정책을 통해 대부분의 권한을 가지지만, 일부 중요 작업(계정 삭제, 결제 방법 변경 등)은 제한됩니다.</p>
</li>
<li data-nodeid="127">
<p data-nodeid="128">루트계정 자격 증명이 노출될 경우 모든 AWS 리소스와 결제 정보가 위험해지지만, IAM 계정은 필요시 권한 제한이나 삭제가 가능합니다.</p>
</li>
<li data-nodeid="129">
<p data-nodeid="130">루트계정 활동은 CloudTrail에서 감사하기 어렵지만, IAM 계정의 모든 활동은 추적 및 감사가 가능합니다.</p>
</li>
<li data-nodeid="131">
<p data-nodeid="132">여러 관리자가 필요한 경우 각각에게 별도의 IAM 계정을 부여하여 책임 소재를 명확히 할 수 있습니다.</p>
</li>
<li data-nodeid="133">
<p data-nodeid="134">AWS 보안 모범 사례에서는 루트계정은 MFA를 설정하고 일상적인 작업에는 사용하지 않도록 권장합니다.</p>
</li>
</ul>
<h1 data-nodeid="135" id="5강">5강</h1>
<ul data-nodeid="136">
<li data-nodeid="137">
<p data-nodeid="138"><a data-nodeid="1262" target="_blank" href="https://www.youtube.com/watch?v=WgxLVz520hI">25 04 15, p 14355, 5강, 루트계정의 별칭 생성, 별칭을 이용해서 admin IAM 계정 로그인</a></p>
</li>
</ul>
<h2 data-nodeid="139" id="설명">설명</h2>
<ul data-nodeid="140">
<li data-nodeid="141">
<p data-nodeid="142">루트계정 로그인 방법 : 루트계정 + 비밀번호</p>
<ul data-nodeid="143">
<li data-nodeid="144">
<p data-nodeid="145">EX : taejincha0619@gmail.com + 비밀번호</p>
</li>
</ul>
</li>
<li data-nodeid="146">
<p data-nodeid="147">IAM 계정 로그인 방법 1(어려움) : 루트계정ID + IAM계정이름 + 비밀번호</p>
<ul data-nodeid="148">
<li data-nodeid="149">
<p data-nodeid="150">EX : 193841781336 + admin + 비밀번호</p>
</li>
</ul>
</li>
<li data-nodeid="151">
<p data-nodeid="152">IAM 계정 로그인 방법 2(쉬움) : 루트계정별칭 + IAM계정이름 + 비밀번호</p>
<ul data-nodeid="153">
<li data-nodeid="154">
<p data-nodeid="155">EX : chacha619 + admin + 비밀번호</p>
</li>
</ul>
</li>
</ul>
<h1 data-nodeid="156" id="6강">6강</h1>
<ul data-nodeid="157">
<li data-nodeid="158">
<p data-nodeid="159"><a data-nodeid="1273" target="_blank" href="https://www.youtube.com/watch?v=hf52383y-j0">25 04 15, p 14355, 6강, 권한과 정책</a></p>
</li>
</ul>
<h2 data-nodeid="160" id="정책은-권한의-묶음-입니다.">정책은 권한의 묶음 입니다.</h2>
<ul data-nodeid="161">
<li data-nodeid="162">
<p data-nodeid="163">AWS IAM에서 정책(Policy)은 하나 이상의 권한을 모아놓은 집합입니다.</p>
</li>
<li data-nodeid="164">
<p data-nodeid="165">정책은 JSON 형식으로 작성되며, 사용자, 그룹 또는 역할에 연결하여 권한을 부여합니다.</p>
</li>
<li data-nodeid="166">
<p data-nodeid="167">AWS는 일반적인 사용 사례에 대한 다양한 관리형 정책을 제공합니다.</p>
<ul data-nodeid="168">
<li data-nodeid="169">
<p data-nodeid="170">예: AdministratorAccess, ReadOnlyAccess, AmazonS3FullAccess 등</p>
</li>
</ul>
</li>
<li data-nodeid="171">
<p data-nodeid="172">관리형 정책은 AWS에서 관리하며 자동으로 업데이트됩니다.</p>
</li>
<li data-nodeid="173">
<p data-nodeid="174">사용자 지정 정책을 직접 생성하여 특정 요구사항에 맞는 권한을 정의할 수도 있습니다.</p>
</li>
<li data-nodeid="175">
<p data-nodeid="176">정책은 "누가", "무엇을", "어디서", "어떤 조건에서" 수행할 수 있는지 정의합니다.</p>
</li>
<li data-nodeid="177">
<p data-nodeid="178">최소 권한 원칙에 따라 필요한 권한만 부여하는 것이 보안 모범 사례입니다.</p>
</li>
</ul>
<h2 data-nodeid="179" id="권한을-사용할-수-있는-대상">권한을 사용할 수 있는 대상</h2>
<ul data-nodeid="180">
<li data-nodeid="181">
<p data-nodeid="182">AWS IAM에서 권한을 부여할 수 있는 대상은 크게 사용자(User), 그룹(Group), 역할(Role)이 있습니다.</p>
</li>
<li data-nodeid="183">
<p data-nodeid="184">사용자(User): 개별 AWS 계정으로, 특정 개인이나 애플리케이션에 해당합니다.</p>
<ul data-nodeid="185">
<li data-nodeid="186">
<p data-nodeid="187">고유한 자격 증명(사용자 이름과 비밀번호)을 가지며 콘솔 로그인이 가능합니다.</p>
</li>
<li data-nodeid="188">
<p data-nodeid="189">장기 자격 증명(액세스 키)을 생성하여 API 호출에 사용할 수 있습니다.</p>
</li>
</ul>
</li>
<li data-nodeid="190">
<p data-nodeid="191">그룹(Group): 여러 사용자를 모아놓은 집합입니다.</p>
<ul data-nodeid="192">
<li data-nodeid="193">
<p data-nodeid="194">그룹에 정책을 연결하면 그룹의 모든 사용자에게 해당 권한이 부여됩니다.</p>
</li>
<li data-nodeid="195">
<p data-nodeid="196">사용자 권한 관리를 단순화하고 일관성을 유지하는 데 도움이 됩니다.</p>
</li>
<li data-nodeid="197">
<p data-nodeid="198">한 사용자는 여러 그룹에 속할 수 있습니다.</p>
</li>
</ul>
</li>
<li data-nodeid="199">
<p data-nodeid="200">역할(Role): 특정 AWS 리소스나 외부 사용자가 임시로 사용할 수 있는 권한 세트입니다.</p>
<ul data-nodeid="201">
<li data-nodeid="202">
<p data-nodeid="203">EC2 인스턴스, Lambda 함수 등의 AWS 서비스에 권한을 부여할 때 사용합니다.</p>
</li>
<li data-nodeid="204">
<p data-nodeid="205">페더레이션 사용자(외부 ID 제공자를 통해 인증된 사용자)에게 권한을 부여할 때 사용합니다.</p>
</li>
<li data-nodeid="206">
<p data-nodeid="207">교차 계정 액세스를 관리할 때 사용합니다.</p>
</li>
</ul>
</li>
<li data-nodeid="208">
<p data-nodeid="209">리소스 기반 정책: 일부 AWS 서비스(S3, SNS, SQS 등)는 리소스 자체에 정책을 연결할 수 있습니다.</p>
<ul data-nodeid="210">
<li data-nodeid="211">
<p data-nodeid="212">이를 통해 해당 리소스에 대한 액세스를 직접 제어할 수 있습니다.</p>
</li>
</ul>
</li>
</ul>
<h2 data-nodeid="213" id="EC2가-권한을-가지는-방법">EC2가 권한을 가지는 방법</h2>
<ul data-nodeid="214">
<li data-nodeid="215">
<p data-nodeid="216">EC2 인스턴스는 IAM 역할(Role)을 통해 AWS 서비스에 대한 권한을 가질 수 있습니다.</p>
</li>
<li data-nodeid="217">
<p data-nodeid="218">EC2에 역할을 연결하면 해당 인스턴스에서 실행되는 애플리케이션이 액세스 키 없이도 AWS API를 호출할 수 있습니다.</p>
</li>
<li data-nodeid="219">
<p data-nodeid="220">이 방식은 액세스 키를 EC2 인스턴스 내에 저장하는 것보다 훨씬 안전합니다.</p>
</li>
<li data-nodeid="221">
<p data-nodeid="222">EC2 인스턴스 프로필을 통해 역할이 EC2 인스턴스에 연결됩니다.</p>
</li>
<li data-nodeid="223">
<p data-nodeid="224">인스턴스 생성 시 역할을 지정하거나 실행 중인 인스턴스에 역할을 나중에 연결할 수 있습니다.</p>
</li>
<li data-nodeid="225">
<p data-nodeid="226">역할에 연결된 정책을 변경하면 해당 역할을 사용하는 모든 EC2 인스턴스에 즉시 적용됩니다.</p>
</li>
<li data-nodeid="227">
<p data-nodeid="228">이 방식은 자격 증명 관리의 복잡성을 줄이고 보안을 강화하는 AWS 모범 사례입니다.</p>
</li>
</ul>
<h1 data-nodeid="229" id="7강">7강</h1>
<ul data-nodeid="230">
<li data-nodeid="231">
<p data-nodeid="232"><a data-nodeid="1325" target="_blank" href="https://www.youtube.com/watch?v=rlIJbARPEEA">25 04 15, p 14355, 7강, IAM 을 제외한 거의 모든 서비스는 특정 리전에 귀속됩니다.</a></p>
</li>
</ul>
<h2 data-nodeid="233" id="설명">설명</h2>
<ul data-nodeid="234">
<li data-nodeid="235">
<p data-nodeid="236">IAM 서비스의 주소가 us-east-1로 시작하는 이유는 IAM이 글로벌 서비스이기 때문입니다.</p>
</li>
<li data-nodeid="237">
<p data-nodeid="238">IAM은 특정 리전에 귀속되지 않는 글로벌 서비스로, AWS의 모든 리전에서 동일하게 적용됩니다.</p>
</li>
<li data-nodeid="239">
<p data-nodeid="240">하지만 기술적으로는 us-east-1(버지니아) 리전에서 관리되며, 이 리전은 AWS의 첫 번째이자 가장 큰 리전입니다.</p>
</li>
<li data-nodeid="241">
<p data-nodeid="242">IAM 설정(사용자, 그룹, 역할, 정책 등)은 모든 리전에서 동일하게 적용됩니다.</p>
</li>
<li data-nodeid="243">
<p data-nodeid="244">반면, EC2, S3, RDS 등 대부분의 AWS 서비스는 특정 리전에 귀속되어 있어 리전마다 독립적으로 관리됩니다.</p>
</li>
<li data-nodeid="245">
<p data-nodeid="246">글로벌 서비스의 다른 예로는 Route 53(DNS 서비스), CloudFront(CDN), WAF(웹 애플리케이션 방화벽) 등이 있습니다.</p>
</li>
</ul>
<h1 data-nodeid="247" id="8강">8강</h1>
<ul data-nodeid="248">
<li data-nodeid="249">
<p data-nodeid="250"><a data-nodeid="1336" target="_blank" href="https://www.youtube.com/watch?v=VaFPz2JgEVg">25 04 15, p 14355, 8강, 하나의 리전은 여러개의 가용영역으로 구성된다 가용영역은 물리적으로 떨어져 있다.</a></p>
</li>
</ul>
<h1 data-nodeid="251" id="9강">9강</h1>
<ul data-nodeid="252">
<li data-nodeid="253">
<p data-nodeid="254"><a data-nodeid="1340" target="_blank" href="https://www.youtube.com/watch?v=wyZ0I9kcgng">25 04 15, p 14355, 9강, EC2 대시보드에서 해당 리전의 가용 영역을 확인</a></p>
</li>
</ul>
<h1 data-nodeid="255" id="10강">10강</h1>
<ul data-nodeid="256">
<li data-nodeid="257">
<p data-nodeid="258"><a data-nodeid="1344" target="_blank" href="https://www.youtube.com/watch?v=qcTG4bomuxk">25 04 15, p 14355, 10강, 우리가 뭔가를 돌리려면 무조건 먼저 VPC를 만들고, VPC 안에 그것을 넣어야 한다.</a></p>
</li>
</ul>
<h1 data-nodeid="259" id="11강">11강</h1>
<ul data-nodeid="260">
<li data-nodeid="261">
<p data-nodeid="262"><a data-nodeid="1348" target="_blank" href="https://www.youtube.com/watch?v=79J7LmbzLa4">25 04 15, p 14355, 11강, 기존 VPC 제거</a></p>
</li>
</ul>
<h1 data-nodeid="263" id="12강">12강</h1>
<ul data-nodeid="264">
<li data-nodeid="265">
<p data-nodeid="266"><a data-nodeid="1352" target="_blank" href="https://www.youtube.com/watch?v=CbkiQw7ZvGI">25 04 15, p 14355, 12강, 새 VPC 생성</a></p>
</li>
</ul>
<h1 data-nodeid="267" id="13강">13강</h1>
<ul data-nodeid="268">
<li data-nodeid="269">
<p data-nodeid="270"><a data-nodeid="1356" target="_blank" href="https://www.youtube.com/watch?v=S4BZL03F-BM">25 04 15, p 14355, 13강, 10.0.0.0/16 는 IP를 65,536개 쓸 수 있는 사설 네트워크라는 의미 입니다.</a></p>
</li>
</ul>
<h2 data-nodeid="271" id="10.0.0.0/16">10.0.0.0/16</h2>
<ul data-nodeid="272">
<li data-nodeid="273">
<p data-nodeid="274">네트워크에서 관리하는 IP 개수 : 255 * 255</p>
</li>
<li data-nodeid="275">
<p data-nodeid="276">대역 : 10.0.0.0 ~ 10.0.255.255</p>
</li>
</ul>
<h2 data-nodeid="277" id="10.0.0.0/24">10.0.0.0/24</h2>
<ul data-nodeid="278">
<li data-nodeid="279">
<p data-nodeid="280">네트워크에서 관리하는 IP 개수 : 255</p>
</li>
<li data-nodeid="281">
<p data-nodeid="282">대역 : 10.0.0.0 ~ 10.0.0.255</p>
</li>
</ul>
<h1 data-nodeid="283" id="14강">14강</h1>
<ul data-nodeid="284">
<li data-nodeid="285">
<p data-nodeid="286"><a data-nodeid="1372" target="_blank" href="https://www.youtube.com/watch?v=0EznoTyUNGE">25 04 15, p 14355, 14강,  AWS CLI 설치</a></p>
</li>
</ul>
<h2 data-nodeid="287" id="AWS-CLI-설치">AWS CLI 설치</h2>
<ul data-nodeid="288">
<li data-nodeid="289">
<p data-nodeid="290"><a data-nodeid="1378" target="_blank" href="https://docs.aws.amazon.com/ko_kr/cli/latest/userguide/getting-started-install.html">AWS - AWS CLI 설치 - https://docs.aws.amazon.com/ko_kr/cli/latest/userguide/getting-started-install.html</a></p>
<ul data-nodeid="291">
<li data-nodeid="292">
<p data-nodeid="293">윈도우 사용자</p>
<ul data-nodeid="294">
<li data-nodeid="295">
<p data-nodeid="296"><img data-nodeid="1382" alt="img" src="https://i.imgur.com/rwbwquC.png"></p>
</li>
</ul>
</li>
<li data-nodeid="297">
<p data-nodeid="298">MAC 사용자</p>
<ul data-nodeid="299">
<li data-nodeid="300">
<p data-nodeid="301"><code data-nodeid="1384" data-backticks="1">Command line installer - All users</code> 로 설치</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 data-nodeid="302" id="AWS-CLI-설치확인">AWS CLI 설치확인</h2>
<ul data-nodeid="303">
<li data-nodeid="304">
<p data-nodeid="305">윈도우 사용자</p>
<ul data-nodeid="306">
<li data-nodeid="307">
<p data-nodeid="308"><code data-nodeid="1388" data-backticks="1">윈도우 키</code> 누르고 <code data-nodeid="1390" data-backticks="1">cmd</code> 누르고 <code data-nodeid="1392" data-backticks="1">엔터</code></p>
</li>
<li data-nodeid="309">
<p data-nodeid="310"><code data-nodeid="1393" data-backticks="1">aws</code> 명령어 실행</p>
</li>
</ul>
</li>
<li data-nodeid="311">
<p data-nodeid="312">MAC 사용자</p>
<ul data-nodeid="313">
<li data-nodeid="314">
<p data-nodeid="315">터미널 창 띄우기</p>
</li>
<li data-nodeid="316">
<p data-nodeid="317"><code data-nodeid="1397" data-backticks="1">aws</code> 명령어 실행</p>
</li>
</ul>
</li>
</ul>
<h1 data-nodeid="318" id="15강">15강</h1>
<ul data-nodeid="319">
<li data-nodeid="320">
<p data-nodeid="321"><a data-nodeid="1402" target="_blank" href="https://www.youtube.com/watch?v=2dnJ30MM-Pc">25 04 15, p 14355, 15강, AWS CLI에 로그인하기 위해서 admin 계정의 엑세스 키 생성</a></p>
</li>
</ul>
<h2 data-nodeid="322" id="admin-계정의-엑세스키-발급받기">admin 계정의 엑세스키 발급받기</h2>
<ul data-nodeid="323">
<li data-nodeid="324">
<p data-nodeid="325"><a data-nodeid="1406" target="_blank" href="https://us-east-1.console.aws.amazon.com/iamv2/home?region=ap-northeast-2#/users">AWS - IAM 사용자 - https://us-east-1.console.aws.amazon.com/iamv2/home?region=ap-northeast-2#/users</a></p>
</li>
<li data-nodeid="326">
<p data-nodeid="327"><a data-nodeid="1409" target="_blank" href="https://us-east-1.console.aws.amazon.com/iamv2/home?region=ap-northeast-2#/users/details/admin?section=security_credentials">IAM - admin 계정 - 보안자격증명</a></p>
</li>
</ul>
<h2 data-nodeid="328" id="AWS-CLI-명령어">AWS CLI 명령어</h2>
<ul data-nodeid="329">
<li data-nodeid="330">
<p data-nodeid="331">aws configure list</p>
<ul data-nodeid="332">
<li data-nodeid="333">
<p data-nodeid="334">AWS 엑세스키가 등록되어 있는지 확인</p>
</li>
</ul>
</li>
<li data-nodeid="335">
<p data-nodeid="336">aws configure</p>
<ul data-nodeid="337">
<li data-nodeid="338">
<p data-nodeid="339">AWS 엑세스키 등록</p>
<ul data-nodeid="340">
<li data-nodeid="341">
<p data-nodeid="342">엑세스 키, 시크릿 엑세스키 등록</p>
</li>
<li data-nodeid="343">
<p data-nodeid="344">재등록도 가능</p>
</li>
</ul>
</li>
<li data-nodeid="345">
<p data-nodeid="346">리전 : ap-northeast-2</p>
<ul data-nodeid="347">
<li data-nodeid="348">
<p data-nodeid="349">ap-northeast-2 : AWS 서울</p>
</li>
</ul>
</li>
<li data-nodeid="350">
<p data-nodeid="351"><code data-nodeid="1419" data-backticks="1">Default output format</code> 에서는 그냥 엔터</p>
</li>
<li data-nodeid="352">
<p data-nodeid="353"><code data-nodeid="1421" data-backticks="1">aws s3 ls</code> 설치 후 라고 입력</p>
<ul data-nodeid="354">
<li data-nodeid="355">
<p data-nodeid="356">아무 결과가 안나오면 성공적으로 로그인 되었다고 볼 수 있습니다.</p>
</li>
</ul>
</li>
</ul>
</li>
<li data-nodeid="357">
<p data-nodeid="358">엑세스키 삭제하는 방법</p>
<ul data-nodeid="359">
<li data-nodeid="360">
<p data-nodeid="361">콘솔 -&gt; IAM USER -&gt; <code data-nodeid="1426" data-backticks="1">admin</code> 유저 선택 -&gt; 보안자격증명 -&gt; 액세스 키 -&gt; 비활성화 -&gt; 삭제</p>
</li>
</ul>
</li>
<li data-nodeid="362">
<p data-nodeid="363">AWS CLI에 입력된 엑세스키 삭제하는 방법</p>
<ul data-nodeid="364">
<li data-nodeid="365">
<p data-nodeid="366">윈도우 터미널</p>
<ul data-nodeid="367">
<li data-nodeid="368">
<p data-nodeid="369"><code data-nodeid="1430" data-backticks="1">rmdir /s /q "%USERPROFILE%/.aws"</code></p>
</li>
</ul>
</li>
<li data-nodeid="370">
<p data-nodeid="371">윈도우 파워쉘</p>
<ul data-nodeid="372">
<li data-nodeid="373">
<p data-nodeid="374"><code data-nodeid="1432" data-backticks="1">rm -force -recurse $HOME\.aws</code></p>
</li>
</ul>
</li>
<li data-nodeid="375">
<p data-nodeid="376">MAC SHELL OR BASH SHELL</p>
<ul data-nodeid="377">
<li data-nodeid="378">
<p data-nodeid="379"><code data-nodeid="1434" data-backticks="1">rm -rf ~/.aws</code></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 data-nodeid="380" id="16강">16강</h1>
<ul data-nodeid="381">
<li data-nodeid="382">
<p data-nodeid="383"><a data-nodeid="1438" target="_blank" href="https://www.youtube.com/watch?v=-_kWb_xzg9E">25 04 15, p 14355, 16강, 테라폼 설치</a></p>
</li>
</ul>
<h2 data-nodeid="384" id="테라폼-CLI-설치">테라폼 CLI 설치</h2>
<ul data-nodeid="385">
<li data-nodeid="386">
<p data-nodeid="387"><a data-nodeid="1442" target="_blank" href="https://developer.hashicorp.com/terraform/install">테라폼 - 설치 - https://developer.hashicorp.com/terraform/install</a></p>
<ul data-nodeid="388">
<li data-nodeid="389">
<p data-nodeid="390">윈도우</p>
<ul data-nodeid="391">
<li data-nodeid="392">
<p data-nodeid="393"><code data-nodeid="1444" data-backticks="1">C:\lib\terraform</code> 폴더 생성</p>
<ul data-nodeid="394">
<li data-nodeid="395">
<p data-nodeid="396">amd64 다운로드</p>
<ul data-nodeid="397">
<li data-nodeid="398">
<p data-nodeid="399">안되면 386 다운로드</p>
</li>
</ul>
</li>
</ul>
</li>
<li data-nodeid="400">
<p data-nodeid="401"><code data-nodeid="1448" data-backticks="1">C:\lib\terraform</code> 폴더에 <code data-nodeid="1450" data-backticks="1">terraform.exe</code> 파일 저장</p>
</li>
<li data-nodeid="402">
<p data-nodeid="403">환경변수의 PATH 에 <code data-nodeid="1453" data-backticks="1">C:\lib\terraform</code> 등록</p>
</li>
<li data-nodeid="404">
<p data-nodeid="405"><img data-nodeid="1457" alt="img" src="https://i.imgur.com/umlRfeN.png"></p>
<ul data-nodeid="406">
<li data-nodeid="407">
<p data-nodeid="408">윈도우 키 누르고 <code data-nodeid="1459" data-backticks="1">환경</code> 이라고 검색</p>
</li>
</ul>
</li>
<li data-nodeid="409">
<p data-nodeid="410"><img data-nodeid="1463" alt="img" src="https://i.imgur.com/9Oy9V9g.png"></p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 data-nodeid="411" id="테라폼-설치-확인">테라폼 설치 확인</h2>
<pre data-nodeid="412" class="lang-bash"><code data-language="bash">terraform --version
</code></pre>
<h1 data-nodeid="413" id="17강">17강</h1>
<ul data-nodeid="414">
<li data-nodeid="415">
<p data-nodeid="416"><a data-nodeid="1468" target="_blank" href="https://www.youtube.com/watch?v=DEaGBznixMA">25 04 15, p 14355, 17강, 테라폼 프로젝트 생성, 인텔리제이로 열기</a></p>
</li>
</ul>
<h2 data-nodeid="417" id="테라폼-프로젝트-폴더-생성">테라폼 프로젝트 폴더 생성</h2>
<ul data-nodeid="418">
<li data-nodeid="419">
<p data-nodeid="420">프로젝트 경로 : 작업폴더/terraform_project_1</p>
</li>
</ul>
<h2 data-nodeid="421" id=".gitignore">.gitignore</h2>
<pre data-nodeid="422" class="lang-.gitignore"><code data-language=".gitignore">.idea
.terraform
</code></pre>
<h2 data-nodeid="423" id="main.tf">main.tf</h2>
<pre data-nodeid="424" class="lang-hcl"><code data-language="hcl"><span class="token keyword">terraform</span> <span class="token punctuation">{</span>
  <span class="token comment">// 자바의 import 와 비슷함</span>
  <span class="token comment">// aws 라이브러리 불러옴</span>
  <span class="token keyword">required_providers</span> <span class="token punctuation">{</span>
    <span class="token property">aws</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
      <span class="token property">source</span>  <span class="token punctuation">=</span> <span class="token string">"hashicorp/aws"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># Configure the AWS Provider</span>
<span class="token keyword">provider<span class="token type variable"> "aws" </span></span><span class="token punctuation">{</span>
  <span class="token property">region</span> <span class="token punctuation">=</span> <span class="token string">"ap-northeast-2"</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_vpc"</span></span> <span class="token string">"example"</span> <span class="token punctuation">{</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.0.0/16"</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"example"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 data-nodeid="425" id="테라폼-명령어">테라폼 명령어</h2>
<ul data-nodeid="426">
<li data-nodeid="427">
<p data-nodeid="428">terraform init</p>
<ul data-nodeid="429">
<li data-nodeid="430">
<p data-nodeid="431">라이브러리 다운로드</p>
</li>
<li data-nodeid="432">
<p data-nodeid="433">라이브러리 관련 소스코드가 바뀔 때 마다 실행해야 한다.</p>
</li>
</ul>
</li>
<li data-nodeid="434">
<p data-nodeid="435">terraform plan</p>
<ul data-nodeid="436">
<li data-nodeid="437">
<p data-nodeid="438">실제 리소스 생성을 하는것은 아니고</p>
</li>
<li data-nodeid="439">
<p data-nodeid="440">현재 소스코드가 실행가능한지 검사</p>
</li>
</ul>
</li>
<li data-nodeid="441">
<p data-nodeid="442">terraform apply</p>
<ul data-nodeid="443">
<li data-nodeid="444">
<p data-nodeid="445">리소스 생성</p>
</li>
<li data-nodeid="446">
<p data-nodeid="447">yes 입력</p>
</li>
</ul>
</li>
<li data-nodeid="448">
<p data-nodeid="449">terraform destroy</p>
<ul data-nodeid="450">
<li data-nodeid="451">
<p data-nodeid="452">리소스 삭제</p>
</li>
<li data-nodeid="453">
<p data-nodeid="454">yes 입력</p>
</li>
</ul>
</li>
</ul>
<h1 data-nodeid="455" id="18강">18강</h1>
<ul data-nodeid="456">
<li data-nodeid="457">
<p data-nodeid="458"><a data-nodeid="1493" target="_self" href="">25 04 15, p 14355, 18강, 테라폼 프로젝트 푸시</a></p>
</li>
<li data-nodeid="459">
<p data-nodeid="460"><a data-nodeid="1496" target="_blank" href="https://github.com/chacha86/terra-250415">테라폼 프로젝트 1 - 리포지터리 - https://github.com/chacha86/terra-250415</a></p>
</li>
<li data-nodeid="461">
<p data-nodeid="462"><a data-nodeid="1499" target="_blank" href="https://github.com/chacha86/terra-250415/commit/5f2ae252649ce92a5bbcbf1ebdb5bbf81f788017">Git</a></p>
</li>
</ul>
<h2 data-nodeid="463" id="설명">설명</h2>
<ul data-nodeid="464">
<li data-nodeid="465">
<p data-nodeid="466">terraform.tfstate 에는 민감한 정보(AWS RDS 비밀번호 등)들이 포함되어 있을 수 있다.</p>
</li>
<li data-nodeid="467">
<p data-nodeid="468">.gitignore에 추가할 거면 해당 파일을 따로 관리해야 한다.</p>
</li>
<li data-nodeid="469">
<p data-nodeid="470">그래서 실무에서는 테라폼 리포지터리를 private 로 관리한다.</p>
</li>
</ul>
<h2 data-nodeid="471" id=".gitignore">.gitignore</h2>
<pre data-nodeid="472" class="lang-.gitignore"><code data-language=".gitignore">.idea
.terraform
.terraform.lock.hcl
terraform.tfstate
terraform.tfstate.backup
</code></pre>
<h1 data-nodeid="473" id="19강">19강</h1>
<ul data-nodeid="474">
<li data-nodeid="475">
<p data-nodeid="476"><a data-nodeid="1508" target="_blank" href="https://www.youtube.com/watch?v=yVFfmGOu7Do">25 04 15, p 14355, 19강 - 1, 테라폼으로 서브넷 1(가용영역 a와 연결), 서브넷 2(가용영역 b와 연결) 생성</a></p>
</li>
<li data-nodeid="477">
<p data-nodeid="478"><a data-nodeid="1511" target="_blank" href="https://www.youtube.com/watch?v=A-i4WZ4nZaY">25 04 15, p 14355, 19강 - 2, 스크립트를 이용해 생성</a></p>
</li>
<li data-nodeid="479">
<p data-nodeid="480"><a data-nodeid="1514" target="_blank" href="https://github.com/chacha86/terra-250415/commit/0c2ee83660be75530446bdff31f56d2e3fad3d42">Git</a></p>
</li>
</ul>
<h2 data-nodeid="481" id="설명">설명</h2>
<ul data-nodeid="482">
<li data-nodeid="483">
<p data-nodeid="484">VPC는 큰 네트워크이고</p>
</li>
<li data-nodeid="485">
<p data-nodeid="486">서브넷은 VPC에 속해있는 하위 네트워크이다.</p>
</li>
<li data-nodeid="487">
<p data-nodeid="488">VPC(큰 네트워크)는 리전에 소속된다.</p>
</li>
<li data-nodeid="489">
<p data-nodeid="490">서브넷(작은 네트워크)는 가용영역에 소속된다.</p>
</li>
<li data-nodeid="491">
<p data-nodeid="492">테라폼 스크립트는 같은 폴더에 있다면 import 가 필요없다.</p>
<ul data-nodeid="493">
<li data-nodeid="494">
<p data-nodeid="495">참고로 테라폼 스크립트에서는 module 이라는 문법으로 import 한다.</p>
</li>
</ul>
</li>
<li data-nodeid="496">
<p data-nodeid="497">테라폼으로 만들어진 자원의 이름 앞에 <code data-nodeid="1523" data-backticks="1">dev-</code> 를 붙이는 것은 좋은 방법입니다.</p>
</li>
</ul>
<h2 data-nodeid="498" id="variables.tf">variables.tf</h2>
<pre data-nodeid="499" class="lang-hcl"><code data-language="hcl"><span class="token keyword">variable<span class="token type variable"> "prefix" </span></span><span class="token punctuation">{</span>
  <span class="token property">description</span> <span class="token punctuation">=</span> <span class="token string">"Prefix for all resources"</span>
  <span class="token property">default</span>     <span class="token punctuation">=</span> <span class="token string">"dev"</span>
<span class="token punctuation">}</span>

<span class="token keyword">variable<span class="token type variable"> "region" </span></span><span class="token punctuation">{</span>
  <span class="token property">description</span> <span class="token punctuation">=</span> <span class="token string">"region"</span>
  <span class="token property">default</span>     <span class="token punctuation">=</span> <span class="token string">"ap-northeast-2"</span>
<span class="token punctuation">}</span>

<span class="token keyword">variable<span class="token type variable"> "nickname" </span></span><span class="token punctuation">{</span>
  <span class="token property">description</span> <span class="token punctuation">=</span> <span class="token string">"nickname"</span>
  <span class="token property">default</span>     <span class="token punctuation">=</span> <span class="token string">"jhs512"</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 data-nodeid="500" id="main.tf">main.tf</h2>
<pre data-nodeid="501" class="lang-hcl"><code data-language="hcl"><span class="token comment">// 테라폼 설정의 시작</span>
<span class="token keyword">terraform</span> <span class="token punctuation">{</span>
  <span class="token comment">// 필요한 프로바이더(클라우드 서비스 제공자)를 설정</span>
  <span class="token keyword">required_providers</span> <span class="token punctuation">{</span>
    <span class="token comment">// AWS 프로바이더를 사용한다고 선언</span>
    <span class="token property">aws</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// AWS 프로바이더의 출처를 hashicorp/aws로 지정</span>
      <span class="token property">source</span> <span class="token punctuation">=</span> <span class="token string">"hashicorp/aws"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// AWS를 제공자로 사용한다고 선언</span>
<span class="token keyword">provider<span class="token type variable"> "aws" </span></span><span class="token punctuation">{</span>
  <span class="token comment">// AWS에서 사용할 리전을 변수로부터 받아옴</span>
  <span class="token property">region</span> <span class="token punctuation">=</span> var.region
<span class="token punctuation">}</span>

<span class="token comment">// AWS VPC(Virtual Private Cloud) 리소스를 생성하고 이름을 'vpc_1'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_vpc"</span></span> <span class="token string">"vpc_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// VPC의 IP 주소 범위를 설정</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.0.0/16"</span>

  <span class="token comment">// DNS 지원을 활성화</span>
  <span class="token property">enable_dns_support</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
  <span class="token comment">// DNS 호스트 이름 지정을 활성화</span>
  <span class="token property">enable_dns_hostnames</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-vpc-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// AWS 서브넷 리소스를 생성하고 이름을 'subnet_1'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 이 서브넷이 속할 VPC를 지정. 여기서는 'vpc_1'를 선택</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token comment">// 서브넷의 IP 주소 범위를 설정</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.1.0/24"</span>
  <span class="token comment">// 서브넷이 위치할 가용 영역을 설정</span>
  <span class="token property">availability_zone</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>a"</span>
  <span class="token comment">// 이 서브넷에 배포되는 인스턴스에 공용 IP를 자동으로 할당</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// AWS 서브넷 리소스를 생성하고 이름을 'subnet_2'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_2"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 이 서브넷이 속할 VPC를 지정. 여기서는 'vpc_1'를 선택</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token comment">// 서브넷의 IP 주소 범위를 설정</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.2.0/24"</span>
  <span class="token comment">// 서브넷이 위치할 가용 영역을 설정</span>
  <span class="token property">availability_zone</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>b"</span>
  <span class="token comment">// 이 서브넷에 배포되는 인스턴스에 공용 IP를 자동으로 할당</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-2"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 data-nodeid="502" id="20강">20강</h1>
<ul data-nodeid="503">
<li data-nodeid="504">
<p data-nodeid="505"><a data-nodeid="1530" target="_blank" href="https://www.youtube.com/watch?v=XTNnfPx83ZY">25 04 15, p 14355, 20강 - 1, 인터넷 게이트웨이 생성, 각 서브넷과 연결</a></p>
</li>
<li data-nodeid="506">
<p data-nodeid="507"><a data-nodeid="1533" target="_blank" href="https://www.youtube.com/watch?v=p5WP7i8Gsmo">25 04 15, p 14355, 20강 - 2, 스크립트를 이용해 생성</a></p>
</li>
<li data-nodeid="508">
<p data-nodeid="509"><a data-nodeid="1536" target="_blank" href="https://github.com/chacha86/terra-250415/commit/810404b6780989b53420bd5ce690c917c5228be7">Git</a></p>
</li>
</ul>
<h2 data-nodeid="510" id="main.tf">main.tf</h2>
<pre data-nodeid="511" class="lang-hcl"><code data-language="hcl"><span class="token comment">// 테라폼 설정의 시작</span>
<span class="token keyword">terraform</span> <span class="token punctuation">{</span>
  <span class="token comment">// 필요한 프로바이더(클라우드 서비스 제공자)를 설정</span>
  <span class="token keyword">required_providers</span> <span class="token punctuation">{</span>
    <span class="token comment">// AWS 프로바이더를 사용한다고 선언</span>
    <span class="token property">aws</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// AWS 프로바이더의 출처를 hashicorp/aws로 지정</span>
      <span class="token property">source</span> <span class="token punctuation">=</span> <span class="token string">"hashicorp/aws"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// AWS를 제공자로 사용한다고 선언</span>
<span class="token keyword">provider<span class="token type variable"> "aws" </span></span><span class="token punctuation">{</span>
  <span class="token comment">// AWS에서 사용할 리전을 변수로부터 받아옴</span>
  <span class="token property">region</span> <span class="token punctuation">=</span> var.region
<span class="token punctuation">}</span>

<span class="token comment">// AWS VPC(Virtual Private Cloud) 리소스를 생성하고 이름을 'vpc_1'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_vpc"</span></span> <span class="token string">"vpc_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// VPC의 IP 주소 범위를 설정</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.0.0/16"</span>

  <span class="token comment">// DNS 지원을 활성화</span>
  <span class="token property">enable_dns_support</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
  <span class="token comment">// DNS 호스트 이름 지정을 활성화</span>
  <span class="token property">enable_dns_hostnames</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-vpc-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// AWS 서브넷 리소스를 생성하고 이름을 'subnet_1'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 이 서브넷이 속할 VPC를 지정. 여기서는 'vpc_1'를 선택</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token comment">// 서브넷의 IP 주소 범위를 설정</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.1.0/24"</span>
  <span class="token comment">// 서브넷이 위치할 가용 영역을 설정</span>
  <span class="token property">availability_zone</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>a"</span>
  <span class="token comment">// 이 서브넷에 배포되는 인스턴스에 공용 IP를 자동으로 할당</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// AWS 서브넷 리소스를 생성하고 이름을 'subnet_2'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_2"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 이 서브넷이 속할 VPC를 지정. 여기서는 'vpc_1'를 선택</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token comment">// 서브넷의 IP 주소 범위를 설정</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.2.0/24"</span>
  <span class="token comment">// 서브넷이 위치할 가용 영역을 설정</span>
  <span class="token property">availability_zone</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>b"</span>
  <span class="token comment">// 이 서브넷에 배포되는 인스턴스에 공용 IP를 자동으로 할당</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-2"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// AWS 인터넷 게이트웨이 리소스를 생성하고 이름을 'igw_1'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_internet_gateway"</span></span> <span class="token string">"igw_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 이 인터넷 게이트웨이가 연결될 VPC를 지정. 여기서는 'vpc_1'를 선택</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-igw-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// AWS 라우트 테이블 리소스를 생성하고 이름을 'rt_1'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_route_table"</span></span> <span class="token string">"rt_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 이 라우트 테이블이 속할 VPC를 지정. 여기서는 'vpc_1'를 선택</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token comment">// 라우트 규칙을 설정. 여기서는 모든 트래픽(0.0.0.0/0)을 'igw_1' 인터넷 게이트웨이로 보냄</span>
  <span class="token keyword">route</span> <span class="token punctuation">{</span>
    <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"0.0.0.0/0"</span>
    <span class="token property">gateway_id</span> <span class="token punctuation">=</span> aws_internet_gateway.igw_1.id
  <span class="token punctuation">}</span>

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-rt-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 라우트 테이블 'rt_1'과 서브넷 'subnet_1'을 연결</span>
<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 연결할 서브넷을 지정</span>
  <span class="token property">subnet_id</span> <span class="token punctuation">=</span> aws_subnet.subnet_1.id
  <span class="token comment">// 연결할 라우트 테이블을 지정</span>
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token comment">// 라우트 테이블 'rt_1'과 서브넷 'subnet_2'을 연결</span>
<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_2"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 연결할 서브넷을 지정</span>
  <span class="token property">subnet_id</span> <span class="token punctuation">=</span> aws_subnet.subnet_2.id
  <span class="token comment">// 연결할 라우트 테이블을 지정</span>
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>
</code></pre>
<h1 data-nodeid="512" id="21강">21강</h1>
<ul data-nodeid="513">
<li data-nodeid="514">
<p data-nodeid="515"><a data-nodeid="1541" target="_blank" href="https://www.youtube.com/watch?v=5GuVkT7PdW0">25 04 15, p 14355, 21강, 모든 것을 허용하는 보안그룹 생성, 추후 EC2에 연결하여 사용할 예정</a></p>
</li>
<li data-nodeid="516">
<p data-nodeid="517"><a data-nodeid="1544" target="_blank" href="https://github.com/chacha86/terra-250415/commit/ea0fb099469880beb081f0ce78bc273740dbcdda">Git</a></p>
</li>
</ul>
<h2 data-nodeid="518" id="설명">설명</h2>
<ul data-nodeid="519">
<li data-nodeid="520">
<p data-nodeid="521">AWS 보안 그룹(Security Group)은 EC2 인스턴스에 대한 인바운드 및 아웃바운드 트래픽을 제어하는 가상 방화벽입니다</p>
</li>
<li data-nodeid="522">
<p data-nodeid="523">이 예제에서는 모든 트래픽을 허용하는 보안 그룹을 생성합니다</p>
</li>
<li data-nodeid="524">
<p data-nodeid="525">인바운드 규칙: 모든 IP(0.0.0.0/0)로부터 모든 프로토콜과 포트에 대한 접근을 허용</p>
</li>
<li data-nodeid="526">
<p data-nodeid="527">아웃바운드 규칙: 모든 IP(0.0.0.0/0)로 모든 프로토콜과 포트에 대한 접근을 허용</p>
</li>
<li data-nodeid="528">
<p data-nodeid="529">실제 프로덕션 환경에서는 보안을 위해 필요한 포트와 IP만 허용하는 것이 좋습니다</p>
</li>
</ul>
<h2 data-nodeid="530" id="main.tf">main.tf</h2>
<pre data-nodeid="531" class="lang-hcl"><code data-language="hcl"><span class="token comment">// 테라폼 설정의 시작</span>
<span class="token keyword">terraform</span> <span class="token punctuation">{</span>
  <span class="token comment">// 필요한 프로바이더(클라우드 서비스 제공자)를 설정</span>
  <span class="token keyword">required_providers</span> <span class="token punctuation">{</span>
    <span class="token comment">// AWS 프로바이더를 사용한다고 선언</span>
    <span class="token property">aws</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
      <span class="token comment">// AWS 프로바이더의 출처를 hashicorp/aws로 지정</span>
      <span class="token property">source</span> <span class="token punctuation">=</span> <span class="token string">"hashicorp/aws"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// AWS를 제공자로 사용한다고 선언</span>
<span class="token keyword">provider<span class="token type variable"> "aws" </span></span><span class="token punctuation">{</span>
  <span class="token comment">// AWS에서 사용할 리전을 변수로부터 받아옴</span>
  <span class="token property">region</span> <span class="token punctuation">=</span> var.region
<span class="token punctuation">}</span>

<span class="token comment">// AWS VPC(Virtual Private Cloud) 리소스를 생성하고 이름을 'vpc_1'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_vpc"</span></span> <span class="token string">"vpc_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// VPC의 IP 주소 범위를 설정</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.0.0/16"</span>

  <span class="token comment">// DNS 지원을 활성화</span>
  <span class="token property">enable_dns_support</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>
  <span class="token comment">// DNS 호스트 이름 지정을 활성화</span>
  <span class="token property">enable_dns_hostnames</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-vpc-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// AWS 서브넷 리소스를 생성하고 이름을 'subnet_1'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 이 서브넷이 속할 VPC를 지정. 여기서는 'vpc_1'를 선택</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token comment">// 서브넷의 IP 주소 범위를 설정</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.1.0/24"</span>
  <span class="token comment">// 서브넷이 위치할 가용 영역을 설정</span>
  <span class="token property">availability_zone</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>a"</span>
  <span class="token comment">// 이 서브넷에 배포되는 인스턴스에 공용 IP를 자동으로 할당</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// AWS 서브넷 리소스를 생성하고 이름을 'subnet_2'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_2"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 이 서브넷이 속할 VPC를 지정. 여기서는 'vpc_1'를 선택</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token comment">// 서브넷의 IP 주소 범위를 설정</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.2.0/24"</span>
  <span class="token comment">// 서브넷이 위치할 가용 영역을 설정</span>
  <span class="token property">availability_zone</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>b"</span>
  <span class="token comment">// 이 서브넷에 배포되는 인스턴스에 공용 IP를 자동으로 할당</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-2"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// AWS 인터넷 게이트웨이 리소스를 생성하고 이름을 'igw_1'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_internet_gateway"</span></span> <span class="token string">"igw_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 이 인터넷 게이트웨이가 연결될 VPC를 지정. 여기서는 'vpc_1'를 선택</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-igw-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token comment">// AWS 라우트 테이블 리소스를 생성하고 이름을 'rt_1'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_route_table"</span></span> <span class="token string">"rt_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 이 라우트 테이블이 속할 VPC를 지정. 여기서는 'vpc_1'를 선택</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token comment">// 라우트 규칙을 설정. 여기서는 모든 트래픽(0.0.0.0/0)을 'igw_1' 인터넷 게이트웨이로 보냄</span>
  <span class="token keyword">route</span> <span class="token punctuation">{</span>
    <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"0.0.0.0/0"</span>
    <span class="token property">gateway_id</span> <span class="token punctuation">=</span> aws_internet_gateway.igw_1.id
  <span class="token punctuation">}</span>

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-rt-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 라우트 테이블 'rt_1'과 서브넷 'subnet_1'을 연결</span>
<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 연결할 서브넷을 지정</span>
  <span class="token property">subnet_id</span> <span class="token punctuation">=</span> aws_subnet.subnet_1.id
  <span class="token comment">// 연결할 라우트 테이블을 지정</span>
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token comment">// 라우트 테이블 'rt_1'과 서브넷 'subnet_2'을 연결</span>
<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_2"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 연결할 서브넷을 지정</span>
  <span class="token property">subnet_id</span> <span class="token punctuation">=</span> aws_subnet.subnet_2.id
  <span class="token comment">// 연결할 라우트 테이블을 지정</span>
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token comment">// AWS 보안 그룹 리소스를 생성하고 이름을 'sg_1'로 설정</span>
<span class="token keyword">resource <span class="token type variable">"aws_security_group"</span></span> <span class="token string">"sg_1"</span> <span class="token punctuation">{</span>
  <span class="token comment">// 보안 그룹의 이름을 설정. 이름 앞에는 변수로부터 받은 prefix를 붙임</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-sg-1"</span>

  <span class="token comment">// 인바운드 트래픽 규칙을 설정</span>
  <span class="token comment">// 여기서는 모든 프로토콜, 모든 포트에 대해 모든 IP(0.0.0.0/0)로부터의 트래픽을 허용</span>
  <span class="token keyword">ingress</span> <span class="token punctuation">{</span>
    <span class="token property">from_port</span> <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">to_port</span>   <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">protocol</span>  <span class="token punctuation">=</span> <span class="token string">"all"</span>
    <span class="token property">cidr_blocks</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"0.0.0.0/0"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 아웃바운드 트래픽 규칙을 설정</span>
  <span class="token comment">// 여기서는 모든 프로토콜, 모든 포트에 대해 모든 IP(0.0.0.0/0)로의 트래픽을 허용</span>
  <span class="token keyword">egress</span> <span class="token punctuation">{</span>
    <span class="token property">from_port</span> <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">to_port</span>   <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">protocol</span>  <span class="token punctuation">=</span> <span class="token string">"all"</span>
    <span class="token property">cidr_blocks</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"0.0.0.0/0"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token comment">// 이 보안 그룹이 속할 VPC를 지정. 여기서는 'vpc_1'를 선택</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token comment">// 리소스에 대한 태그를 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-sg-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 data-nodeid="532" id="22강">22강</h1>
<ul data-nodeid="533">
<li data-nodeid="534">
<p data-nodeid="535"><a data-nodeid="1555" target="_blank" href="https://www.youtube.com/watch?v=n2TSL9rrhXs">25 04 15, p 14355, 22강, ec2 인스턴스 2개 추가, AmazonEC2RoleforSSM 정책과 AmazonS3FullAccess 정책이 설정된 권한과 연결</a></p>
</li>
</ul>
<h2 data-nodeid="536" id="설명">설명</h2>
<ul data-nodeid="537">
<li data-nodeid="538">
<p data-nodeid="539">EC2는 특정 서브넷에 속한다.</p>
</li>
<li data-nodeid="540">
<p data-nodeid="541">키 파일없이 AWS 콘솔에서 바로 EC2 에 SSH 접속하려면 해당 EC2가 AmazonEC2RoleforSSM 정책(권한) 을 가져야 한다.</p>
</li>
<li data-nodeid="542">
<p data-nodeid="543">보통 EC2 는 S3 에 대한 권한을 가지는게 편하다.</p>
<ul data-nodeid="544">
<li data-nodeid="545">
<p data-nodeid="546">해당 EC2에서 S3를 다루기 편해진다.</p>
</li>
</ul>
</li>
</ul>
<h2 data-nodeid="547" id="특정-인스턴스-프로파일-삭제">특정 인스턴스 프로파일 삭제</h2>
<pre data-nodeid="548" class="lang-bash"><code data-language="bash">aws iam delete-instance-profile --instance-profile-name 인스턴스-프로파일-명
<span class="token comment"># aws iam delete-instance-profile --instance-profile-name dev-instance-profile-1</span>
</code></pre>
<h2 data-nodeid="549" id="main.tf">main.tf</h2>
<pre data-nodeid="550" class="lang-hcl"><code data-language="hcl"><span class="token keyword">terraform</span> <span class="token punctuation">{</span>
  <span class="token comment">// aws 라이브러리 불러옴</span>
  <span class="token keyword">required_providers</span> <span class="token punctuation">{</span>
    <span class="token property">aws</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
      <span class="token property">source</span> <span class="token punctuation">=</span> <span class="token string">"hashicorp/aws"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># AWS 설정 시작</span>
<span class="token keyword">provider<span class="token type variable"> "aws" </span></span><span class="token punctuation">{</span>
  <span class="token property">region</span> <span class="token punctuation">=</span> var.region
<span class="token punctuation">}</span>
<span class="token comment"># AWS 설정 끝</span>

<span class="token comment"># VPC 설정 시작</span>
<span class="token keyword">resource <span class="token type variable">"aws_vpc"</span></span> <span class="token string">"vpc_1"</span> <span class="token punctuation">{</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.0.0/16"</span>

  <span class="token property">enable_dns_support</span>   <span class="token punctuation">=</span> <span class="token boolean">true</span>
  <span class="token property">enable_dns_hostnames</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-vpc-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.1.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>a"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_2"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.2.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>b"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-2"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_3"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.3.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>c"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-3"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_internet_gateway"</span></span> <span class="token string">"igw_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-igw-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table"</span></span> <span class="token string">"rt_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token keyword">route</span> <span class="token punctuation">{</span>
    <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"0.0.0.0/0"</span>
    <span class="token property">gateway_id</span> <span class="token punctuation">=</span> aws_internet_gateway.igw_1.id
  <span class="token punctuation">}</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-rt-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_1"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_1.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_2"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_2.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_3"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_3.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_security_group"</span></span> <span class="token string">"sg_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-sg-1"</span>

  <span class="token keyword">ingress</span> <span class="token punctuation">{</span>
    <span class="token property">from_port</span> <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">to_port</span>   <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">protocol</span>  <span class="token punctuation">=</span> <span class="token string">"all"</span>
    <span class="token property">cidr_blocks</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"0.0.0.0/0"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">egress</span> <span class="token punctuation">{</span>
    <span class="token property">from_port</span> <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">to_port</span>   <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">protocol</span>  <span class="token punctuation">=</span> <span class="token string">"all"</span>
    <span class="token property">cidr_blocks</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"0.0.0.0/0"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-sg-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 설정 시작</span>

<span class="token comment"># EC2 역할 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role"</span></span> <span class="token string">"ec2_role_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-ec2-role-1"</span>

  <span class="token comment"># 이 역할에 대한 신뢰 정책 설정. EC2 서비스가 이 역할을 가정할 수 있도록 설정</span>
  <span class="token property">assume_role_policy</span> <span class="token punctuation">=</span> <span class="token heredoc string">&lt;&lt;EOF
  {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Sid": "",
        "Action": "sts:AssumeRole",
        "Principal": {
            "Service": "ec2.amazonaws.com"
        },
        "Effect": "Allow"
      }
    ]
  }
  EOF</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 역할에 AmazonS3FullAccess 정책을 부착</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role_policy_attachment"</span></span> <span class="token string">"s3_full_access"</span> <span class="token punctuation">{</span>
  <span class="token property">role</span>       <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
  <span class="token property">policy_arn</span> <span class="token punctuation">=</span> <span class="token string">"arn:aws:iam::aws:policy/AmazonS3FullAccess"</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 역할에 AmazonEC2RoleforSSM 정책을 부착</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role_policy_attachment"</span></span> <span class="token string">"ec2_ssm"</span> <span class="token punctuation">{</span>
  <span class="token property">role</span>       <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
  <span class="token property">policy_arn</span> <span class="token punctuation">=</span> <span class="token string">"arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforSSM"</span>
<span class="token punctuation">}</span>

<span class="token comment"># IAM 인스턴스 프로파일 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_instance_profile"</span></span> <span class="token string">"instance_profile_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-instance-profile-1"</span>
  <span class="token property">role</span> <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
<span class="token punctuation">}</span>

<span class="token comment"># EC2 인스턴스 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_instance"</span></span> <span class="token string">"ec2_1"</span> <span class="token punctuation">{</span>
  <span class="token comment"># 사용할 AMI ID</span>
  <span class="token property">ami</span> <span class="token punctuation">=</span> <span class="token string">"ami-062cddb9d94dcf95d"</span>
  <span class="token comment"># EC2 인스턴스 유형</span>
  <span class="token property">instance_type</span> <span class="token punctuation">=</span> <span class="token string">"t3.micro"</span>
  <span class="token comment"># 사용할 서브넷 ID</span>
  <span class="token property">subnet_id</span> <span class="token punctuation">=</span> aws_subnet.subnet_1.id
  <span class="token comment"># 적용할 보안 그룹 ID</span>
  <span class="token property">vpc_security_group_ids</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>aws_security_group.sg_1.id<span class="token punctuation">]</span>
  <span class="token comment"># 퍼블릭 IP 연결 설정</span>
  <span class="token property">associate_public_ip_address</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment"># 인스턴스에 IAM 역할 연결</span>
  <span class="token property">iam_instance_profile</span> <span class="token punctuation">=</span> aws_iam_instance_profile.instance_profile_1.name

  <span class="token comment"># 인스턴스에 태그 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-ec2-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 인스턴스 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_instance"</span></span> <span class="token string">"ec2_2"</span> <span class="token punctuation">{</span>
  <span class="token comment"># 사용할 AMI ID</span>
  <span class="token property">ami</span> <span class="token punctuation">=</span> <span class="token string">"ami-062cddb9d94dcf95d"</span>
  <span class="token comment"># EC2 인스턴스 유형</span>
  <span class="token property">instance_type</span> <span class="token punctuation">=</span> <span class="token string">"t3.micro"</span>
  <span class="token comment"># 사용할 서브넷 ID</span>
  <span class="token property">subnet_id</span> <span class="token punctuation">=</span> aws_subnet.subnet_3.id
  <span class="token comment"># 적용할 보안 그룹 ID</span>
  <span class="token property">vpc_security_group_ids</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>aws_security_group.sg_1.id<span class="token punctuation">]</span>
  <span class="token comment"># 퍼블릭 IP 연결 설정</span>
  <span class="token property">associate_public_ip_address</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment"># 인스턴스에 IAM 역할 연결</span>
  <span class="token property">iam_instance_profile</span> <span class="token punctuation">=</span> aws_iam_instance_profile.instance_profile_1.name

  <span class="token comment"># 인스턴스에 태그 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-ec2-2"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 data-nodeid="551" id="23강">23강</h1>
<ul data-nodeid="552">
<li data-nodeid="553">
<p data-nodeid="554"><a data-nodeid="1566" target="_blank" href="https://www.youtube.com/watch?v=k98_lVrI-Fw">25 04 15, p 14355, 23강 - 1, EC2에 AmazonS3FullAccess 정책을 연결한 이유</a></p>
</li>
<li data-nodeid="555">
<p data-nodeid="556"><a data-nodeid="1569" target="_blank" href="https://www.youtube.com/watch?v=vPYyj_y0m5M">25 04 15, p 14355, 23강 - 2, 콘솔에서 역할 생성 해보면서 이해하기</a></p>
</li>
</ul>
<h2 data-nodeid="557" id="AmazonS3FullAccess-설명">AmazonS3FullAccess 설명</h2>
<ul data-nodeid="558">
<li data-nodeid="559">
<p data-nodeid="560">AmazonS3FullAccess 정책은 EC2 인스턴스가 Amazon S3 서비스의 모든 기능을 사용할 수 있는 권한을 제공합니다.</p>
</li>
<li data-nodeid="561">
<p data-nodeid="562">이 정책을 통해 EC2 인스턴스에서 실행되는 애플리케이션이 S3 버킷에 파일을 업로드, 다운로드, 삭제할 수 있습니다.</p>
</li>
<li data-nodeid="563">
<p data-nodeid="564">백업 데이터, 로그 파일, 정적 웹 콘텐츠 등을 S3에 저장하고 관리할 수 있습니다.</p>
</li>
<li data-nodeid="565">
<p data-nodeid="566">실무에서는 최소 권한 원칙에 따라 필요한 S3 작업만 허용하는 더 제한적인 정책을 사용하는 것이 좋습니다.</p>
</li>
</ul>
<h2 data-nodeid="567" id="AmazonS3FullAccess-정책이-부여된-EC2안의-도커안의-스프링부트가-S3에-대한-권한을-가질까?">AmazonS3FullAccess 정책이 부여된 EC2안의 도커안의 스프링부트가 S3에 대한 권한을 가질까?</h2>
<ul data-nodeid="568">
<li data-nodeid="569">
<p data-nodeid="570">네, EC2 인스턴스에 AmazonS3FullAccess 정책이 부여되면 해당 인스턴스 내에서 실행되는 도커 컨테이너 안의 스프링부트 애플리케이션도 S3에 대한 권한을 가질 수 있습니다.</p>
</li>
<li data-nodeid="571">
<p data-nodeid="572">이는 AWS의 인스턴스 메타데이터 서비스(IMDS)를 통해 가능합니다.</p>
</li>
<li data-nodeid="573">
<p data-nodeid="574">EC2 인스턴스에 연결된 IAM 역할의 임시 보안 자격 증명(액세스 키, 시크릿 키, 세션 토큰)이 메타데이터 서비스를 통해 제공됩니다.</p>
</li>
<li data-nodeid="575">
<p data-nodeid="576">도커 컨테이너 내의 애플리케이션은 <code data-nodeid="1580" data-backticks="1">http://169.254.169.254/latest/meta-data/iam/security-credentials/</code> 엔드포인트에 접근하여 이 자격 증명을 획득할 수 있습니다.</p>
</li>
<li data-nodeid="577">
<p data-nodeid="578">AWS SDK는 자동으로 이 메타데이터 서비스를 확인하여 자격 증명을 가져오므로, 스프링부트 애플리케이션에서 별도의 자격 증명 설정 없이도 S3 API를 호출할 수 있습니다.</p>
</li>
<li data-nodeid="579">
<p data-nodeid="580">단, 도커 컨테이너가 네트워크 모드를 'host'로 설정하거나, 기본 브릿지 네트워크에서 메타데이터 서비스에 접근할 수 있도록 설정되어 있어야 합니다.</p>
</li>
<li data-nodeid="581">
<p data-nodeid="582">보안 강화를 위해 IMDSv2를 사용하는 경우, 토큰 기반 인증이 필요하므로 추가 설정이 필요할 수 있습니다.</p>
</li>
</ul>
<h1 data-nodeid="583" id="24강">24강</h1>
<ul data-nodeid="584">
<li data-nodeid="585">
<p data-nodeid="586"><a data-nodeid="1592" target="_blank" href="https://www.youtube.com/watch?v=U1i6JxtGXzg">25 04 15, p 14355, 24강, EC2에 AmazonEC2RoleforSSM 정책 연결한 이유</a></p>
</li>
</ul>
<h2 data-nodeid="587" id="AmazonEC2RoleforSSM-설명">AmazonEC2RoleforSSM 설명</h2>
<ul data-nodeid="588">
<li data-nodeid="589">
<p data-nodeid="590">AmazonEC2RoleforSSM 정책은 EC2 인스턴스가 AWS Systems Manager(SSM) 서비스를 사용할 수 있도록 하는 권한을 제공합니다.</p>
</li>
<li data-nodeid="591">
<p data-nodeid="592">이 정책을 통해 EC2 인스턴스에 SSH 접속 없이도 AWS 콘솔에서 직접 인스턴스에 접속하여 관리할 수 있습니다.</p>
</li>
<li data-nodeid="593">
<p data-nodeid="594">SSM을 통해 원격으로 명령 실행, 패치 관리, 구성 관리 등의 작업을 수행할 수 있습니다.</p>
</li>
<li data-nodeid="595">
<p data-nodeid="596">보안 측면에서 SSH 포트(22)를 열지 않아도 되므로 보안성이 향상됩니다.</p>
</li>
<li data-nodeid="597">
<p data-nodeid="598">EC2 인스턴스에 대한 접근 로그가 AWS CloudTrail에 기록되어 감사 및 모니터링이 용이합니다.</p>
</li>
<li data-nodeid="599">
<p data-nodeid="600">여러 인스턴스에 대한 일괄 작업을 수행할 수 있어 관리 효율성이 높아집니다.</p>
</li>
</ul>
<h1 data-nodeid="601" id="25강">25강</h1>
<ul data-nodeid="602">
<li data-nodeid="603">
<p data-nodeid="604"><a data-nodeid="1603" target="_blank" href="https://www.youtube.com/watch?v=VpKDcRLx2J4">25 04 15, p 14355, 25강, 스왑 파일 생성하여 가상 메모리 4GB 추가</a></p>
</li>
</ul>
<h2 data-nodeid="605" id="스왑-파일-생성">스왑 파일 생성</h2>
<h3 data-nodeid="606" id="1.-dd-명령을-사용하여-루트-파일-시스템에-스왑-파일을-생성합니다.">1. dd 명령을 사용하여 루트 파일 시스템에 스왑 파일을 생성합니다.</h3>
<ul data-nodeid="607">
<li data-nodeid="608">
<p data-nodeid="609">명령에서 bs는 블록 크기이고 count는 블록 수입니다.</p>
</li>
<li data-nodeid="610">
<p data-nodeid="611">스왑 파일의 크기는 dd 명령의 블록 크기 옵션에 블록 수 옵션을 곱한 값입니다.</p>
</li>
<li data-nodeid="612">
<p data-nodeid="613">이러한 값을 조정하여 원하는 스왑 파일 크기를 결정합니다.</p>
</li>
<li data-nodeid="614">
<p data-nodeid="615">지정한 블록 크기는 인스턴스에서 사용 가능한 메모리보다 작아야 합니다.</p>
</li>
<li data-nodeid="616">
<p data-nodeid="617">그렇지 않으면 "memory exhausted" 오류가 발생합니다.</p>
</li>
<li data-nodeid="618">
<p data-nodeid="619">이 예제 dd 명령에서 스왑 파일은 4GB(128MB x 32)입니다.</p>
</li>
</ul>
<pre data-nodeid="620" class="lang-bash"><code data-language="bash"><span class="token function">sudo</span> <span class="token function">dd</span> <span class="token assign-left variable">if</span><span class="token operator">=</span>/dev/zero <span class="token assign-left variable">of</span><span class="token operator">=</span>/swapfile <span class="token assign-left variable">bs</span><span class="token operator">=</span>128M <span class="token assign-left variable">count</span><span class="token operator">=</span><span class="token number">32</span>
</code></pre>
<h3 data-nodeid="621" id="2.-스왑-파일의-읽기-및-쓰기-권한을-업데이트합니다.">2. 스왑 파일의 읽기 및 쓰기 권한을 업데이트합니다.</h3>
<pre data-nodeid="622" class="lang-bash"><code data-language="bash"><span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">600</span> /swapfile
</code></pre>
<h3 data-nodeid="623" id="3.-Linux-스왑-영역을-설정합니다.">3. Linux 스왑 영역을 설정합니다.</h3>
<pre data-nodeid="624" class="lang-bash"><code data-language="bash"><span class="token function">sudo</span> <span class="token function">mkswap</span> /swapfile
</code></pre>
<h3 data-nodeid="625" id="4.-스왑-공간에-스왑-파일을-추가하여-스왑-파일을-즉시-사용할-수-있도록-합니다.">4. 스왑 공간에 스왑 파일을 추가하여 스왑 파일을 즉시 사용할 수 있도록 합니다.</h3>
<pre data-nodeid="626" class="lang-bash"><code data-language="bash"><span class="token function">sudo</span> <span class="token function">swapon</span> /swapfile
</code></pre>
<h3 data-nodeid="627" id="5.-프로시저가-성공적인지-확인합니다.">5. 프로시저가 성공적인지 확인합니다.</h3>
<pre data-nodeid="628" class="lang-bash"><code data-language="bash"><span class="token function">sudo</span> <span class="token function">swapon</span> -s
</code></pre>
<h3 data-nodeid="629" id="6.-루트-권한으로-변경">6. 루트 권한으로 변경</h3>
<pre data-nodeid="630" class="lang-bash"><code data-language="bash"><span class="token function">sudo</span> <span class="token function">su</span> 
</code></pre>
<h3 data-nodeid="631" id="7.-/etc/fstab-파일을-편집하여-부팅-시-스왑-파일을-시작합니다.">7. /etc/fstab 파일을 편집하여 부팅 시 스왑 파일을 시작합니다.</h3>
<pre data-nodeid="632" class="lang-bash"><code data-language="bash"><span class="token builtin class-name">echo</span> <span class="token string">"/swapfile swap swap defaults 0 0"</span> <span class="token operator">&gt;&gt;</span> /etc/fstab
</code></pre>
<h3 data-nodeid="633" id="8.-재부팅-후-가상메모리-유지-되는지-확인">8. 재부팅 후 가상메모리 유지 되는지 확인</h3>
<pre data-nodeid="634" class="lang-bash"><code data-language="bash"><span class="token function">sudo</span> <span class="token function">reboot</span>
</code></pre>
<h1 data-nodeid="635" id="26강">26강</h1>
<ul data-nodeid="636">
<li data-nodeid="637">
<p data-nodeid="638"><a data-nodeid="1626" target="_blank" href="https://www.youtube.com/watch?v=4W0mXdUCQyE">25 04 16, p 14355, 26강, 가용영역별로 지원하는 OS와 인스턴스 유형이 다를 수 있습니다. ap-northeast-2b 에서는 t2.micro 가 안됨</a></p>
</li>
<li data-nodeid="639">
<p data-nodeid="640"><a data-nodeid="1629" target="_blank" href="https://github.com/chacha86/terra-250415/commit/9d59fe3efc72f554df967162fc55bcc008204e35">Git</a></p>
</li>
</ul>
<h2 data-nodeid="641" id="설명">설명</h2>
<ul data-nodeid="642">
<li data-nodeid="643">
<p data-nodeid="644">AWS의 각 가용영역(Availability Zone)은 독립적인 데이터 센터로, 지원하는 인스턴스 유형과 운영체제가 서로 다를 수 있습니다.</p>
</li>
<li data-nodeid="645">
<p data-nodeid="646">예를 들어, ap-northeast-2b 가용영역에서는 t2.micro 인스턴스 유형이 지원되지 않을 수 있습니다.</p>
</li>
<li data-nodeid="647">
<p data-nodeid="648">이는 각 가용영역의 하드웨어 구성, 용량, 인프라 상태에 따라 달라집니다.</p>
</li>
<li data-nodeid="649">
<p data-nodeid="650">인스턴스를 생성할 때 특정 인스턴스 유형이 선택한 가용영역에서 지원되지 않는다면 다른 가용영역을 선택하거나 다른 인스턴스 유형을 선택해야 합니다.</p>
</li>
<li data-nodeid="651">
<p data-nodeid="652">AWS 콘솔에서 인스턴스 생성 시 특정 가용영역에서 지원되지 않는 인스턴스 유형을 선택하면 오류 메시지가 표시됩니다.</p>
</li>
<li data-nodeid="653">
<p data-nodeid="654">테라폼을 사용할 때도 특정 가용영역에서 지원되지 않는 인스턴스 유형을 지정하면 배포 오류가 발생합니다.</p>
</li>
<li data-nodeid="655">
<p data-nodeid="656">프로덕션 환경에서는 여러 가용영역에 리소스를 분산 배치하여 가용성을 높이는 것이 좋습니다.</p>
</li>
</ul>
<h2 data-nodeid="657" id="main.tf">main.tf</h2>
<pre data-nodeid="658" class="lang-hcl"><code data-language="hcl"><span class="token keyword">terraform</span> <span class="token punctuation">{</span>
  <span class="token comment">// aws 라이브러리 불러옴</span>
  <span class="token keyword">required_providers</span> <span class="token punctuation">{</span>
    <span class="token property">aws</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
      <span class="token property">source</span> <span class="token punctuation">=</span> <span class="token string">"hashicorp/aws"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># AWS 설정 시작</span>
<span class="token keyword">provider<span class="token type variable"> "aws" </span></span><span class="token punctuation">{</span>
  <span class="token property">region</span> <span class="token punctuation">=</span> var.region
<span class="token punctuation">}</span>
<span class="token comment"># AWS 설정 끝</span>

<span class="token comment"># VPC 설정 시작</span>
<span class="token keyword">resource <span class="token type variable">"aws_vpc"</span></span> <span class="token string">"vpc_1"</span> <span class="token punctuation">{</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.0.0/16"</span>

  <span class="token property">enable_dns_support</span>   <span class="token punctuation">=</span> <span class="token boolean">true</span>
  <span class="token property">enable_dns_hostnames</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-vpc-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.1.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>a"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_2"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.2.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>b"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-2"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_3"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.3.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>c"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-3"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_internet_gateway"</span></span> <span class="token string">"igw_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-igw-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table"</span></span> <span class="token string">"rt_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token keyword">route</span> <span class="token punctuation">{</span>
    <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"0.0.0.0/0"</span>
    <span class="token property">gateway_id</span> <span class="token punctuation">=</span> aws_internet_gateway.igw_1.id
  <span class="token punctuation">}</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-rt-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_1"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_1.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_2"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_2.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_3"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_3.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_security_group"</span></span> <span class="token string">"sg_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-sg-1"</span>

  <span class="token keyword">ingress</span> <span class="token punctuation">{</span>
    <span class="token property">from_port</span> <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">to_port</span>   <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">protocol</span>  <span class="token punctuation">=</span> <span class="token string">"all"</span>
    <span class="token property">cidr_blocks</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"0.0.0.0/0"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">egress</span> <span class="token punctuation">{</span>
    <span class="token property">from_port</span> <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">to_port</span>   <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">protocol</span>  <span class="token punctuation">=</span> <span class="token string">"all"</span>
    <span class="token property">cidr_blocks</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"0.0.0.0/0"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-sg-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 설정 시작</span>

<span class="token comment"># EC2 역할 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role"</span></span> <span class="token string">"ec2_role_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-ec2-role-1"</span>

  <span class="token comment"># 이 역할에 대한 신뢰 정책 설정. EC2 서비스가 이 역할을 가정할 수 있도록 설정</span>
  <span class="token property">assume_role_policy</span> <span class="token punctuation">=</span> <span class="token heredoc string">&lt;&lt;EOF
  {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Sid": "",
        "Action": "sts:AssumeRole",
        "Principal": {
            "Service": "ec2.amazonaws.com"
        },
        "Effect": "Allow"
      }
    ]
  }
  EOF</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 역할에 AmazonS3FullAccess 정책을 부착</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role_policy_attachment"</span></span> <span class="token string">"s3_full_access"</span> <span class="token punctuation">{</span>
  <span class="token property">role</span>       <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
  <span class="token property">policy_arn</span> <span class="token punctuation">=</span> <span class="token string">"arn:aws:iam::aws:policy/AmazonS3FullAccess"</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 역할에 AmazonEC2RoleforSSM 정책을 부착</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role_policy_attachment"</span></span> <span class="token string">"ec2_ssm"</span> <span class="token punctuation">{</span>
  <span class="token property">role</span>       <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
  <span class="token property">policy_arn</span> <span class="token punctuation">=</span> <span class="token string">"arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforSSM"</span>
<span class="token punctuation">}</span>

<span class="token comment"># IAM 인스턴스 프로파일 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_instance_profile"</span></span> <span class="token string">"instance_profile_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-instance-profile-1"</span>
  <span class="token property">role</span> <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
<span class="token punctuation">}</span>

<span class="token comment"># EC2 인스턴스 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_instance"</span></span> <span class="token string">"ec2_1"</span> <span class="token punctuation">{</span>
  <span class="token comment"># 사용할 AMI ID</span>
  <span class="token property">ami</span> <span class="token punctuation">=</span> <span class="token string">"ami-062cddb9d94dcf95d"</span>
  <span class="token comment"># EC2 인스턴스 유형</span>
  <span class="token property">instance_type</span> <span class="token punctuation">=</span> <span class="token string">"t3.micro"</span>
  <span class="token comment"># 사용할 서브넷 ID</span>
  <span class="token property">subnet_id</span> <span class="token punctuation">=</span> aws_subnet.subnet_2.id
  <span class="token comment"># 적용할 보안 그룹 ID</span>
  <span class="token property">vpc_security_group_ids</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>aws_security_group.sg_1.id<span class="token punctuation">]</span>
  <span class="token comment"># 퍼블릭 IP 연결 설정</span>
  <span class="token property">associate_public_ip_address</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment"># 인스턴스에 IAM 역할 연결</span>
  <span class="token property">iam_instance_profile</span> <span class="token punctuation">=</span> aws_iam_instance_profile.instance_profile_1.name

  <span class="token comment"># 인스턴스에 태그 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-ec2-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 인스턴스 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_instance"</span></span> <span class="token string">"ec2_2"</span> <span class="token punctuation">{</span>
  <span class="token comment"># 사용할 AMI ID</span>
  <span class="token property">ami</span> <span class="token punctuation">=</span> <span class="token string">"ami-062cddb9d94dcf95d"</span>
  <span class="token comment"># EC2 인스턴스 유형</span>
  <span class="token property">instance_type</span> <span class="token punctuation">=</span> <span class="token string">"t3.micro"</span>
  <span class="token comment"># 사용할 서브넷 ID</span>
  <span class="token property">subnet_id</span> <span class="token punctuation">=</span> aws_subnet.subnet_2.id
  <span class="token comment"># 적용할 보안 그룹 ID</span>
  <span class="token property">vpc_security_group_ids</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>aws_security_group.sg_1.id<span class="token punctuation">]</span>
  <span class="token comment"># 퍼블릭 IP 연결 설정</span>
  <span class="token property">associate_public_ip_address</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment"># 인스턴스에 IAM 역할 연결</span>
  <span class="token property">iam_instance_profile</span> <span class="token punctuation">=</span> aws_iam_instance_profile.instance_profile_1.name

  <span class="token comment"># 인스턴스에 태그 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-ec2-2"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 data-nodeid="659" id="27강">27강</h1>
<ul data-nodeid="660">
<li data-nodeid="661">
<p data-nodeid="662"><a data-nodeid="1642" target="_blank" href="https://www.youtube.com/watch?v=qYvpHmWBMeI">25 04 16, p 14355, 27강, SSD 용량을 12GB로 늘리고, EC2 인스턴스 초기화 스크립트로 도커설치/가상메모리 설정 자동화</a></p>
</li>
</ul>
<h2 data-nodeid="663" id="설명">설명</h2>
<ul data-nodeid="664">
<li data-nodeid="665">
<p data-nodeid="666">만약에 초기화 스크립트가 적용이 안된다면, <code data-nodeid="1645" data-backticks="1">terraform destroy</code> 후 <code data-nodeid="1647" data-backticks="1">terraform apply</code> 를 다시 실행해 주세요.</p>
</li>
</ul>
<h2 data-nodeid="667" id="main.tf">main.tf</h2>
<pre data-nodeid="668" class="lang-hcl"><code data-language="hcl"><span class="token keyword">terraform</span> <span class="token punctuation">{</span>
  <span class="token comment">// aws 라이브러리 불러옴</span>
  <span class="token keyword">required_providers</span> <span class="token punctuation">{</span>
    <span class="token property">aws</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
      <span class="token property">source</span> <span class="token punctuation">=</span> <span class="token string">"hashicorp/aws"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># AWS 설정 시작</span>
<span class="token keyword">provider<span class="token type variable"> "aws" </span></span><span class="token punctuation">{</span>
  <span class="token property">region</span> <span class="token punctuation">=</span> var.region
<span class="token punctuation">}</span>
<span class="token comment"># AWS 설정 끝</span>

<span class="token comment"># VPC 설정 시작</span>
<span class="token keyword">resource <span class="token type variable">"aws_vpc"</span></span> <span class="token string">"vpc_1"</span> <span class="token punctuation">{</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.0.0/16"</span>

  <span class="token property">enable_dns_support</span>   <span class="token punctuation">=</span> <span class="token boolean">true</span>
  <span class="token property">enable_dns_hostnames</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-vpc-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.1.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>a"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_2"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.2.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>b"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-2"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_3"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.3.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>c"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-3"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_internet_gateway"</span></span> <span class="token string">"igw_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-igw-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table"</span></span> <span class="token string">"rt_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token keyword">route</span> <span class="token punctuation">{</span>
    <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"0.0.0.0/0"</span>
    <span class="token property">gateway_id</span> <span class="token punctuation">=</span> aws_internet_gateway.igw_1.id
  <span class="token punctuation">}</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-rt-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_1"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_1.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_2"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_2.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_3"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_3.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_security_group"</span></span> <span class="token string">"sg_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-sg-1"</span>

  <span class="token keyword">ingress</span> <span class="token punctuation">{</span>
    <span class="token property">from_port</span> <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">to_port</span>   <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">protocol</span>  <span class="token punctuation">=</span> <span class="token string">"all"</span>
    <span class="token property">cidr_blocks</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"0.0.0.0/0"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">egress</span> <span class="token punctuation">{</span>
    <span class="token property">from_port</span> <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">to_port</span>   <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">protocol</span>  <span class="token punctuation">=</span> <span class="token string">"all"</span>
    <span class="token property">cidr_blocks</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"0.0.0.0/0"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-sg-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 설정 시작</span>

<span class="token comment"># EC2 역할 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role"</span></span> <span class="token string">"ec2_role_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-ec2-role-1"</span>

  <span class="token comment"># 이 역할에 대한 신뢰 정책 설정. EC2 서비스가 이 역할을 가정할 수 있도록 설정</span>
  <span class="token property">assume_role_policy</span> <span class="token punctuation">=</span> <span class="token heredoc string">&lt;&lt;EOF
  {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Sid": "",
        "Action": "sts:AssumeRole",
        "Principal": {
            "Service": "ec2.amazonaws.com"
        },
        "Effect": "Allow"
      }
    ]
  }
  EOF</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 역할에 AmazonS3FullAccess 정책을 부착</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role_policy_attachment"</span></span> <span class="token string">"s3_full_access"</span> <span class="token punctuation">{</span>
  <span class="token property">role</span>       <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
  <span class="token property">policy_arn</span> <span class="token punctuation">=</span> <span class="token string">"arn:aws:iam::aws:policy/AmazonS3FullAccess"</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 역할에 AmazonEC2RoleforSSM 정책을 부착</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role_policy_attachment"</span></span> <span class="token string">"ec2_ssm"</span> <span class="token punctuation">{</span>
  <span class="token property">role</span>       <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
  <span class="token property">policy_arn</span> <span class="token punctuation">=</span> <span class="token string">"arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforSSM"</span>
<span class="token punctuation">}</span>

<span class="token comment"># IAM 인스턴스 프로파일 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_instance_profile"</span></span> <span class="token string">"instance_profile_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-instance-profile-1"</span>
  <span class="token property">role</span> <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
<span class="token punctuation">}</span>

<span class="token keyword">locals</span> <span class="token punctuation">{</span>
  <span class="token property">ec2_user_data_base</span> <span class="token punctuation">=</span> <span class="token heredoc string">&lt;&lt;-END_OF_FILE
#!/bin/bash
yum install docker -y
systemctl enable docker
systemctl start docker

yum install git -y

sudo dd if=/dev/zero of=/swapfile bs=128M count=32
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
sudo sh -c 'echo "/swapfile swap swap defaults 0 0" &gt;&gt; /etc/fstab'

END_OF_FILE</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 인스턴스 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_instance"</span></span> <span class="token string">"ec2_1"</span> <span class="token punctuation">{</span>
  <span class="token comment"># 사용할 AMI ID</span>
  <span class="token property">ami</span> <span class="token punctuation">=</span> <span class="token string">"ami-062cddb9d94dcf95d"</span>
  <span class="token comment"># EC2 인스턴스 유형</span>
  <span class="token property">instance_type</span> <span class="token punctuation">=</span> <span class="token string">"t3.micro"</span>
  <span class="token comment"># 사용할 서브넷 ID</span>
  <span class="token property">subnet_id</span> <span class="token punctuation">=</span> aws_subnet.subnet_2.id
  <span class="token comment"># 적용할 보안 그룹 ID</span>
  <span class="token property">vpc_security_group_ids</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>aws_security_group.sg_1.id<span class="token punctuation">]</span>
  <span class="token comment"># 퍼블릭 IP 연결 설정</span>
  <span class="token property">associate_public_ip_address</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment"># 인스턴스에 IAM 역할 연결</span>
  <span class="token property">iam_instance_profile</span> <span class="token punctuation">=</span> aws_iam_instance_profile.instance_profile_1.name

  <span class="token comment"># 인스턴스에 태그 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-ec2-1"</span>
  <span class="token punctuation">}</span>

  <span class="token comment"># 루트 볼륨 설정</span>
  <span class="token keyword">root_block_device</span> <span class="token punctuation">{</span>
    <span class="token property">volume_type</span> <span class="token punctuation">=</span> <span class="token string">"gp3"</span>
    <span class="token property">volume_size</span> <span class="token punctuation">=</span> <span class="token number">12</span> <span class="token comment"># 볼륨 크기를 12GB로 설정</span>
  <span class="token punctuation">}</span>

  <span class="token property">user_data</span> <span class="token punctuation">=</span> <span class="token heredoc string">&lt;&lt;-EOF
${local.ec2_user_data_base}
EOF</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 인스턴스 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_instance"</span></span> <span class="token string">"ec2_2"</span> <span class="token punctuation">{</span>
  <span class="token comment"># 사용할 AMI ID</span>
  <span class="token property">ami</span> <span class="token punctuation">=</span> <span class="token string">"ami-062cddb9d94dcf95d"</span>
  <span class="token comment"># EC2 인스턴스 유형</span>
  <span class="token property">instance_type</span> <span class="token punctuation">=</span> <span class="token string">"t3.micro"</span>
  <span class="token comment"># 사용할 서브넷 ID</span>
  <span class="token property">subnet_id</span> <span class="token punctuation">=</span> aws_subnet.subnet_2.id
  <span class="token comment"># 적용할 보안 그룹 ID</span>
  <span class="token property">vpc_security_group_ids</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>aws_security_group.sg_1.id<span class="token punctuation">]</span>
  <span class="token comment"># 퍼블릭 IP 연결 설정</span>
  <span class="token property">associate_public_ip_address</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment"># 인스턴스에 IAM 역할 연결</span>
  <span class="token property">iam_instance_profile</span> <span class="token punctuation">=</span> aws_iam_instance_profile.instance_profile_1.name

  <span class="token comment"># 인스턴스에 태그 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-ec2-2"</span>
  <span class="token punctuation">}</span>

  <span class="token comment"># 루트 볼륨 설정</span>
  <span class="token keyword">root_block_device</span> <span class="token punctuation">{</span>
    <span class="token property">volume_type</span> <span class="token punctuation">=</span> <span class="token string">"gp3"</span>
    <span class="token property">volume_size</span> <span class="token punctuation">=</span> <span class="token number">12</span> <span class="token comment"># 볼륨 크기를 12GB로 설정</span>
  <span class="token punctuation">}</span>

  <span class="token property">user_data</span> <span class="token punctuation">=</span> <span class="token heredoc string">&lt;&lt;-EOF
${local.ec2_user_data_base}
EOF</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 data-nodeid="669" id="28강">28강</h1>
<ul data-nodeid="670">
<li data-nodeid="671">
<p data-nodeid="672"><a data-nodeid="1653" target="_blank" href="https://www.youtube.com/watch?v=Wzo-BgEMPlU">25 04 16, p 14355, 28강, 스프링부트 프로젝트 1 생성</a></p>
</li>
<li data-nodeid="673">
<p data-nodeid="674"><a data-nodeid="1656" target="_blank" href="https://github.com/chacha86/back-250416">스프링부트 프로젝트 1 - 리포지터리 - https://github.com/chacha86/back-250416</a></p>
</li>
<li data-nodeid="675">
<p data-nodeid="676"><a data-nodeid="1659" target="_blank" href="https://github.com/chacha86/back-250416/commit/08a0ff5dadc3f7613c1d98e9b62b119e4d98f4d2">Git</a></p>
</li>
<li data-nodeid="677">
<p data-nodeid="678"><a data-nodeid="1662" target="_blank" href="https://start.spring.io">https://start.spring.io</a></p>
</li>
</ul>
<h1 data-nodeid="679" id="29강">29강</h1>
<ul data-nodeid="680">
<li data-nodeid="681">
<p data-nodeid="682"><a data-nodeid="1666" target="_blank" href="https://www.youtube.com/watch?v=ZVPp3Fd0Smc">25 04 16, p 14355, 29강, io.awspring.cloud:spring-cloud-aws-starter-s3:3.3.0 라이브러리를 통해서 s3 버킷 리스트 출력</a></p>
</li>
<li data-nodeid="683">
<p data-nodeid="684"><a data-nodeid="1669" target="_blank" href="https://github.com/chacha86/back-250416/commit/2406dbc05b229d07a2bf682c5a9a90e4af599ab8">Git</a></p>
</li>
</ul>
<h1 data-nodeid="685" id="30강">30강</h1>
<ul data-nodeid="686">
<li data-nodeid="687">
<p data-nodeid="688"><a data-nodeid="1673" target="_self" href="">25 04 16, p 14355, 30강, 버킷 생성하고 확인하기</a></p>
</li>
<li data-nodeid="689">
<p data-nodeid="690"><a data-nodeid="1676" target="_blank" href="https://ap-northeast-2.console.aws.amazon.com/s3/bucket/create?region=ap-northeast-2">S3 - 버킷 생성</a></p>
</li>
<li data-nodeid="691">
<p data-nodeid="692"><img data-nodeid="1679" alt="img" src="https://i.postimg.cc/F9PjRCXK/image.png"></p>
</li>
</ul>
<h2 data-nodeid="693" id="확인">확인</h2>
<ul data-nodeid="694">
<li data-nodeid="695">
<p data-nodeid="696"><a data-nodeid="1683" target="_blank" href="http://localhost:8080/buckets">http://localhost:8080/buckets</a></p>
</li>
<li data-nodeid="697">
<p data-nodeid="698"><img data-nodeid="1686" alt="img" src="https://i.postimg.cc/15SZR8f7/image.png"></p>
</li>
</ul>
<h1 data-nodeid="699" id="31강">31강</h1>
<ul data-nodeid="700">
<li data-nodeid="701">
<p data-nodeid="702"><a data-nodeid="1690" target="_blank" href="https://www.youtube.com/watch?v=iPd9g9jNb8Y">25 04 16, p 14355, 31강, AWS 인증 정보를 찾는 우선순위</a></p>
</li>
</ul>
<h2 data-nodeid="703" id="AWS-인증-정보를-찾는-우선순위">AWS 인증 정보를 찾는 우선순위</h2>
<h3 data-nodeid="704" id="AWS-인증-정보-검색-우선순위-(높은-순서-→-낮은-순서)"><strong data-nodeid="1695">AWS 인증 정보 검색 우선순위 (높은 순서 → 낮은 순서)</strong></h3>
<ol data-nodeid="705">
<li data-nodeid="706">
<p data-nodeid="707"><strong data-nodeid="1701">Java System Properties (<code data-nodeid="1698" data-backticks="1">-D</code> 옵션)</strong></p>
<ul data-nodeid="708">
<li data-nodeid="709">
<p data-nodeid="710">JVM 실행 시 <code data-nodeid="1703" data-backticks="1">-D</code> 옵션을 사용하여 인증 정보를 설정한 경우 가장 먼저 사용됨.</p>
</li>
</ul>
<pre data-nodeid="711" class="lang-shell"><code data-language="shell">java -Daws.accessKeyId<span class="token operator">=</span>YOUR_ACCESS_KEY -Daws.secretKey<span class="token operator">=</span>YOUR_SECRET_KEY -jar app.jar
</code></pre></li>
<li data-nodeid="712">
<p data-nodeid="713"><strong data-nodeid="1708">환경 변수 (Environment Variables)</strong></p>
<ul data-nodeid="714">
<li data-nodeid="715">
<p data-nodeid="716">OS 환경 변수로 설정된 경우 JVM 옵션보다 우선순위가 낮지만 <code data-nodeid="1710" data-backticks="1">application.yml</code>보다 높음.</p>
</li>
</ul>
<pre data-nodeid="717" class="lang-shell"><code data-language="shell"><span class="token builtin class-name">export</span> <span class="token assign-left variable">AWS_ACCESS_KEY_ID</span><span class="token operator">=</span>YOUR_ACCESS_KEY
<span class="token builtin class-name">export</span> <span class="token assign-left variable">AWS_SECRET_ACCESS_KEY</span><span class="token operator">=</span>YOUR_SECRET_KEY
<span class="token builtin class-name">export</span> <span class="token assign-left variable">AWS_REGION</span><span class="token operator">=</span>us-east-1
</code></pre></li>
<li data-nodeid="718">
<p data-nodeid="719"><strong data-nodeid="1719">AWS Credentials Profile (<code data-nodeid="1714" data-backticks="1">~/.aws/credentials</code> 또는 <code data-nodeid="1716" data-backticks="1">C:\Users\사용자\.aws\credentials</code>)</strong></p>
<ul data-nodeid="720">
<li data-nodeid="721">
<p data-nodeid="722"><code data-nodeid="1720" data-backticks="1">aws configure</code> 명령어를 사용해 설정된 자격 증명.</p>
</li>
</ul>
<pre data-nodeid="723" class="lang-ini"><code data-language="ini"><span class="token selector">[default]</span>
<span class="token constant">aws_access_key_id</span><span class="token attr-value"><span class="token punctuation">=</span>YOUR_ACCESS_KEY</span>
<span class="token constant">aws_secret_access_key</span><span class="token attr-value"><span class="token punctuation">=</span>YOUR_SECRET_KEY</span>
<span class="token constant">region</span><span class="token attr-value"><span class="token punctuation">=</span>us-east-1</span>
</code></pre>
<ul data-nodeid="724">
<li data-nodeid="725">
<p data-nodeid="726">특정 프로파일을 사용하려면 환경 변수 <code data-nodeid="1723" data-backticks="1">AWS_PROFILE</code>을 지정할 수 있음.</p>
</li>
</ul>
<pre data-nodeid="727" class="lang-shell"><code data-language="shell"><span class="token builtin class-name">export</span> <span class="token assign-left variable">AWS_PROFILE</span><span class="token operator">=</span>my-profile
</code></pre></li>
<li data-nodeid="728">
<p data-nodeid="729"><strong data-nodeid="1731"><code data-nodeid="1726" data-backticks="1">application.yml</code> 또는 <code data-nodeid="1728" data-backticks="1">application.properties</code> 설정</strong></p>
<ul data-nodeid="730">
<li data-nodeid="731">
<p data-nodeid="732"><code data-nodeid="1732" data-backticks="1">spring-cloud-aws</code>의 기본 설정으로 사용됨.</p>
</li>
</ul>
<pre data-nodeid="733" class="lang-yml"><code data-language="yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">aws</span><span class="token punctuation">:</span>
      <span class="token key atrule">credentials</span><span class="token punctuation">:</span>
        <span class="token key atrule">access-key</span><span class="token punctuation">:</span> YOUR_ACCESS_KEY
        <span class="token key atrule">secret-key</span><span class="token punctuation">:</span> YOUR_SECRET_KEY
      <span class="token key atrule">region</span><span class="token punctuation">:</span>
        <span class="token key atrule">static</span><span class="token punctuation">:</span> us<span class="token punctuation">-</span>east<span class="token punctuation">-</span><span class="token number">1</span>
</code></pre></li>
<li data-nodeid="734">
<p data-nodeid="735"><strong data-nodeid="1737">EC2/ECS IAM Role (Instance Profile 또는 Task Role)</strong></p>
<ul data-nodeid="736">
<li data-nodeid="737">
<p data-nodeid="738">위의 모든 방법이 없을 때 최후의 방법으로 사용됨.</p>
</li>
<li data-nodeid="739">
<p data-nodeid="740">AWS 내부에서 실행되는 경우 IAM Role을 통해 자동으로 인증을 가져옴.</p>
</li>
</ul>
<pre data-nodeid="741" class="lang-shell"><code data-language="shell"><span class="token function">curl</span> http://169.254.169.254/latest/meta-data/iam/security-credentials/
</code></pre></li>
</ol>
<h2 data-nodeid="742" id="정리:-AWS-인증-정보-우선순위"><strong data-nodeid="1743">정리: AWS 인증 정보 우선순위</strong></h2>
<p data-nodeid="743">1️⃣ <strong data-nodeid="1781">Java System Properties (<code data-nodeid="1747" data-backticks="1">-Daws.accessKeyId=...</code>)</strong><br>
2️⃣ <strong data-nodeid="1782">환경 변수 (<code data-nodeid="1755" data-backticks="1">AWS_ACCESS_KEY_ID</code>)</strong><br>
3️⃣ <strong data-nodeid="1783">AWS Credentials Profile (<code data-nodeid="1763" data-backticks="1">~/.aws/credentials</code>)</strong><br>
4️⃣ <strong data-nodeid="1784">application.yml / application.properties (<code data-nodeid="1771" data-backticks="1">spring.cloud.aws.credentials.access-key</code>)</strong><br>
5️⃣ <strong data-nodeid="1785">EC2/ECS IAM Role (Instance Profile)</strong> (최후의 수단)</p>
<p data-nodeid="744">👉 <strong data-nodeid="1804">IAM Role을 사용하려면 <code data-nodeid="1789" data-backticks="1">application.yml</code>에 <code data-nodeid="1791" data-backticks="1">access-key</code>와 <code data-nodeid="1793" data-backticks="1">secret-key</code>를 설정하지 않아야 함.</strong><br>
👉 <strong data-nodeid="1805">환경 변수를 사용하면 <code data-nodeid="1801" data-backticks="1">application.yml</code>보다 우선됨.</strong></p>
<h1 data-nodeid="745" id="32강">32강</h1>
<ul data-nodeid="746">
<li data-nodeid="747">
<p data-nodeid="748"><a data-nodeid="1809" target="_blank" href="https://www.youtube.com/watch?v=5Z9KcjigGl0">25 04 16, p 14355, 32강, EC2 인스턴스에서 직접 스프링부트 실행, IAM ROLE의 S3 접근권한이 잘 작동합니다.</a></p>
</li>
</ul>
<h2 data-nodeid="749" id="1st-EC2-인스턴스에서-직접-스프링부트-실행">1st EC2 인스턴스에서 직접 스프링부트 실행</h2>
<pre data-nodeid="750" class="lang-bash"><code data-language="bash"><span class="token function">mkdir</span> -p /app
<span class="token builtin class-name">cd</span> /app
<span class="token function">git</span> clone https://github.com/chacha86/back-250416.git <span class="token builtin class-name">.</span>
dnf list *java*21*
dnf <span class="token function">install</span> -y java-21-amazon-corretto-devel.x86_64
<span class="token function">chmod</span> <span class="token number">744</span> gradlew
./gradlew build
java -jar build/libs/back2-0.0.1-SNAPSHOT.jar
</code></pre>
<h2 data-nodeid="751" id="확인">확인</h2>
<ul data-nodeid="752">
<li data-nodeid="753">
<p data-nodeid="754"><a data-nodeid="1814" target="_blank" href="http://13.125.201.69:8080/buckets">http://43.202.114.23:8080/buckets</a></p>
</li>
</ul>
<h1 data-nodeid="755" id="33강">33강</h1>
<ul data-nodeid="756">
<li data-nodeid="757">
<p data-nodeid="758"><a data-nodeid="1818" target="_self" href="">25 04 16, p 14355, 33강, Dockerfile 추가, 도커 빌드 과정에서 실행되는 테스트가 실패 : 해당 환경에서는 aws 인증정보가 없음</a></p>
</li>
<li data-nodeid="759">
<p data-nodeid="760"><a data-nodeid="1821" target="_blank" href="https://github.com/chacha86/back-250416/commit/769320f35310c81ff29a4b75d1b0d8a092170747">Git</a></p>
</li>
</ul>
<h2 data-nodeid="761" id="도커-빌드">도커 빌드</h2>
<pre data-nodeid="762" class="lang-bash"><code data-language="bash">docker build -t chasaem/app:1 <span class="token builtin class-name">.</span>
</code></pre>
<h2 data-nodeid="763" id="34강">34강</h2>
<ul data-nodeid="764">
<li data-nodeid="765">
<p data-nodeid="766"><a data-nodeid="1826" target="_self" href="">25 04 16, p 14355, 34강, 도커 빌드 과정에서의 그래들 빌드는 테스트 없이 진행하도록 하여서 통과, doker push</a></p>
</li>
<li data-nodeid="767">
<p data-nodeid="768"><a data-nodeid="1829" target="_blank" href="https://github.com/chacha86/back-250416/commit/07c50412ef6a962bdaa80dbdddb4bb356194bac7">Git</a></p>
</li>
</ul>
<h2 data-nodeid="769" id="도커-빌드">도커 빌드</h2>
<pre data-nodeid="770" class="lang-bash"><code data-language="bash">docker build -t chasaem/app:1 <span class="token builtin class-name">.</span>
</code></pre>
<h2 data-nodeid="771" id="35강">35강</h2>
<ul data-nodeid="772">
<li data-nodeid="773">
<p data-nodeid="774"><a data-nodeid="1834" target="_self" href="">25 04 16, p 14355, 35강, 도커 이미지 푸시, 도커 허브에서 확인</a></p>
</li>
</ul>
<h2 data-nodeid="775" id="도커-이미지-푸시">도커 이미지 푸시</h2>
<pre data-nodeid="776" class="lang-bash"><code data-language="bash">docker push chasaem/app:1
</code></pre>
<h1 data-nodeid="777" id="36강">36강</h1>
<ul data-nodeid="778">
<li data-nodeid="779">
<p data-nodeid="780"><a data-nodeid="1839" target="_blank" href="https://www.youtube.com/watch?v=_xb4NJTkAAE">25 04 16, p 14355, 36강, 서버에서 기존 스프링부트 프로세스 삭제, 도커 이미지로 실행</a></p>
</li>
</ul>
<h2 data-nodeid="781" id="기존-back2-어플리케이션-프로세스가-있는지-검색,-있다면-Kill">기존 back2 어플리케이션 프로세스가 있는지 검색, 있다면 Kill</h2>
<pre data-nodeid="782" class="lang-bash"><code data-language="bash"><span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> back2 <span class="token comment"># back2 프로세스 검색</span>
<span class="token function">kill</span> -9 프로세스-번호 <span class="token comment"># 프로세스 종료</span>
</code></pre>
<h2 data-nodeid="783" id="기존-8080-포트-사용하고-있는-프로세스가-있는지-검색,-있다면-Kill">기존 8080 포트 사용하고 있는 프로세스가 있는지 검색, 있다면 Kill</h2>
<pre data-nodeid="784" class="lang-bash"><code data-language="bash"><span class="token function">netstat</span> -tulnp <span class="token operator">|</span> <span class="token function">fgrep</span> :8080 <span class="token comment"># 포트 사용 확인</span>
<span class="token function">kill</span> -9 프로세스-번호 <span class="token comment"># 프로세스 종료</span>
</code></pre>
<h2 data-nodeid="785" id="도커-컨테이너-실행">도커 컨테이너 실행</h2>
<pre data-nodeid="786" class="lang-bash"><code data-language="bash">docker run -d -p <span class="token number">8080</span>:8080 --name app1 chasaem/app:1
</code></pre>
<h2 data-nodeid="787" id="확인">확인</h2>
<ul data-nodeid="788">
<li data-nodeid="789">
<p data-nodeid="790"><a data-nodeid="1846" target="_blank" href="http://13.125.201.69:8080/buckets">http://43.202.114.23:8080/buckets</a></p>
</li>
</ul>
<h1 data-nodeid="791" id="37강">37강</h1>
<ul data-nodeid="792">
<li data-nodeid="793">
<p data-nodeid="794"><a data-nodeid="1850" target="_blank" href="https://www.youtube.com/watch?v=0gYBfubmXzY">25 04 16, p 14355, 37강, S3Service 도입, 테스트 환경용 S3ServiceImpl 도 추가, S3를 이용할 수 없는 환경에서도 테스트가 성공</a></p>
</li>
<li data-nodeid="795">
<p data-nodeid="796"><a data-nodeid="1853" target="_blank" href="https://github.com/chacha86/back-250416/commit/0514b7fdd938d9494e8785d1d68a562b5d10be9e">Git</a></p>
</li>
</ul>
<h2 data-nodeid="797" id="src/main/resources/application-test.yml">src/main/resources/application-test.yml</h2>
<ul data-nodeid="798">
<li data-nodeid="799">
<p data-nodeid="800">이렇게 해야 테스트환경에서 S3서버를 찾으려는 시도 자체를 하지 않음</p>
</li>
</ul>
<pre data-nodeid="801" class="lang-yml"><code data-language="yml"><span class="token key atrule">spring</span><span class="token punctuation">:</span>
   <span class="token key atrule">autoconfigure</span><span class="token punctuation">:</span>
     <span class="token key atrule">exclude</span><span class="token punctuation">:</span> io.awspring.cloud.autoconfigure.s3.S3AutoConfiguration
</code></pre>
<h2 data-nodeid="802" id="도커-빌드">도커 빌드</h2>
<pre data-nodeid="803" class="lang-bash"><code data-language="bash">docker build -t chasaem/app:2 <span class="token builtin class-name">.</span>
</code></pre>
<h2 data-nodeid="804" id="도커-이미지-푸시">도커 이미지 푸시</h2>
<pre data-nodeid="805" class="lang-bash"><code data-language="bash">docker push chasaem/app:2
</code></pre>
<h1 data-nodeid="806" id="38강">38강</h1>
<ul data-nodeid="807">
<li data-nodeid="808">
<p data-nodeid="809"><a data-nodeid="1861" target="_blank" href="https://www.youtube.com/watch?v=VaxoRnqur8U">25 04 16, p 14355, 38강, 서버에서 새로운 도커 이미지 실행</a></p>
</li>
</ul>
<h2 data-nodeid="810" id="서버에서-새로운-도커-이미지-실행">서버에서 새로운 도커 이미지 실행</h2>
<pre data-nodeid="811" class="lang-bash"><code data-language="bash">docker pull chasaem/app:2 <span class="token comment"># 새 이미지 다운로드</span>
docker stop app1 <span class="token comment"># 기존 컨테이너 종료</span>
docker <span class="token function">rm</span> app1 <span class="token comment"># 기존 컨테이너 삭제</span>
docker run -d -p <span class="token number">8080</span>:8080 --name app1 chasaem/app:8 <span class="token comment"># 새 컨테이너 실행</span>
docker rmi chasaem/app:1 <span class="token comment"># 기존 이미지 삭제</span>
</code></pre>
<h1 data-nodeid="812" id="39강">39강</h1>
<ul data-nodeid="813">
<li data-nodeid="814">
<p data-nodeid="815"><a data-nodeid="1866" target="_blank" href="https://www.youtube.com/watch?v=Ibdkw7kq4C4">25 04 16, p 14355, 39강, 도커 이미지 빌드, 도커 이미지 푸시를 자동화 하기</a></p>
</li>
<li data-nodeid="816">
<p data-nodeid="817"><a data-nodeid="1869" target="_blank" href="https://github.com/chacha86/back-250416/commit/fa26cad1935a376503d4b3422f1e48160a7d902b">Git</a></p>
</li>
</ul>
<h2 data-nodeid="818" id="src/main/resources/application-secret.yml">src/main/resources/application-secret.yml</h2>
<pre data-nodeid="819" class="lang-yml"><code data-language="yml"><span class="token key atrule">custom</span><span class="token punctuation">:</span>
  <span class="token key atrule">secretWord</span><span class="token punctuation">:</span> <span class="token number">1234</span>
</code></pre>
<h2 data-nodeid="820" id="GITHUB-ACTION-에서-해당-리포지터리에-대해서-쓰기-권한-가지도록">GITHUB ACTION 에서 해당 리포지터리에 대해서 쓰기 권한 가지도록</h2>
<ul data-nodeid="821">
<li data-nodeid="822">
<p data-nodeid="823"><img data-nodeid="1874" alt="img" src="https://i.imgur.com/H7MFm4p.png"></p>
</li>
</ul>
<h2 data-nodeid="824" id="리포지터리-세팅에서-APPLICATION_SECRET_YML-시크릿-변수-생성">리포지터리 세팅에서 APPLICATION_SECRET_YML 시크릿 변수 생성</h2>
<ul data-nodeid="825">
<li data-nodeid="826">
<p data-nodeid="827"><img data-nodeid="1882" alt="img" src="https://i.postimg.cc/SNcrW0Nr/image.png"></p>
</li>
</ul>
<h2 data-nodeid="828" id="도커-이미지가-생성되면-해당-페키지에-접속해서-공개상태를-private-로-수정">도커 이미지가 생성되면 해당 페키지에 접속해서 공개상태를 private 로 수정</h2>
<ul data-nodeid="829">
<li data-nodeid="830">
<p data-nodeid="831"><a data-nodeid="1886" target="_blank" href="https://github.com/users/jhs512/packages/container/app20250314/settings">https://github.com/users/jhs512/packages/container/app20250314/settings</a></p>
</li>
<li data-nodeid="832">
<p data-nodeid="833"><img data-nodeid="1889" alt="img" src="https://i.postimg.cc/TwXHNTqT/image.png"></p>
</li>
</ul>
<h2 data-nodeid="834" id="비공개-패키지(도커-이미지)를-EC2에서-다운로드-하기-위해서-access-token-생성">비공개 패키지(도커 이미지)를 EC2에서 다운로드 하기 위해서 access token 생성</h2>
<ul data-nodeid="835">
<li data-nodeid="836">
<p data-nodeid="837"><a data-nodeid="1893" target="_blank" href="https://github.com/settings/tokens/new">https://github.com/settings/tokens/new</a></p>
</li>
<li data-nodeid="838">
<p data-nodeid="839">read:packages 권한을 가진 토큰 생성</p>
</li>
<li data-nodeid="840">
<p data-nodeid="841">기간 : 무제한</p>
</li>
<li data-nodeid="842">
<p data-nodeid="843"><img data-nodeid="1898" alt="img" src="https://i.postimg.cc/fW8BmcFz/image.png"></p>
</li>
</ul>
<h2 data-nodeid="844" id="서버에서-새로운-도커-이미지-실행">서버에서 새로운 도커 이미지 실행</h2>
<pre data-nodeid="845" class="lang-bash"><code data-language="bash">docker login ghcr.io -u chacha86 <span class="token comment"># 이 명령어를 입력하면 키 입력란이 나오는데, 위에서 생성한 엑세스 토큰을 입력하면 됩니다. 이 작업은 EC2가 새로 생성될 때 마다 1번씩만 해주면 됩니다. 즉 terraform destroy 후 terraform apply 를 하셨다면 그후에 항상 도커 로그인을 해주셔야 합니다.</span>
docker pull ghcr.io/chacha86/app20250416:latest <span class="token comment"># 새 이미지 다운로드</span>
docker stop app1 <span class="token comment"># 기존 컨테이너 우아하게 종료</span>
docker <span class="token function">rm</span> app1 <span class="token comment"># 기존 컨테이너 삭제</span>
docker run -d -p <span class="token number">8080</span>:8080 --name app1 ghcr.io/chacha86/app20250416:latest <span class="token comment"># 새 컨테이너 실행</span>
docker rmi chacha86/app:2 <span class="token comment"># 기존 이미지 삭제</span>
</code></pre>
<h1 data-nodeid="846" id="40강">40강</h1>
<ul data-nodeid="847">
<li data-nodeid="848">
<p data-nodeid="849"><a data-nodeid="1903" target="_blank" href="https://www.youtube.com/watch?v=4qFW8y6JcjE">25 04 16, p 14355, 40강, GITHUB ACTION 에서 도커 이미지 푸시가 완료되면 운영서버에게 교체하라는 명령어를 전송하여 자동배포 완성</a></p>
</li>
<li data-nodeid="850">
<p data-nodeid="851"><a data-nodeid="1906" target="_blank" href="https://github.com/chacha86/back-250416/commit/54a1696c2d8309255b6102db92d8b822eacda726">Git</a></p>
</li>
</ul>
<h2 data-nodeid="852" id="최신-도커-이미지-다운로드-후-기존-도커-컨테이너-삭제-후-실행하는-명령어">최신 도커 이미지 다운로드 후 기존 도커 컨테이너 삭제 후 실행하는 명령어</h2>
<pre data-nodeid="853" class="lang-bash"><code data-language="bash">docker pull ghcr.io/chacha86/app20250416:latest <span class="token comment"># 이렇게 하면 기존 이미지의 latest 태그가 none 으로 바뀐다.</span>
docker stop app1 <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>/dev/null <span class="token comment"># 기존 컨테이너 우아하게 종료</span>
docker <span class="token function">rm</span> app1 <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>/dev/null <span class="token comment"># 기존 컨테이너 삭제</span>
docker run -d --name app1 -p <span class="token number">8080</span>:8080 ghcr.io/chacha86/app20250416:latest <span class="token comment"># 새 컨테이너 실행</span>
docker rmi <span class="token variable"><span class="token variable">$(</span>docker images -f <span class="token string">"dangling=true"</span> -q<span class="token variable">)</span></span> <span class="token comment"># 기존 이미지 삭제(이 시점에서는 기존 이미지는 태그가 none 으로 바뀌어 있음)</span>
</code></pre>
<h2 data-nodeid="854" id=".github/workflows/deploy.yml">.github/workflows/deploy.yml</h2>
<pre data-nodeid="855" class="lang-bash"><code data-language="bash">name: deploy

on:
  push:
    paths:
      - <span class="token string">'.github/workflows/**'</span>
      - <span class="token string">'src/**'</span>
      - <span class="token string">'build.gradle.kts'</span>
      - <span class="token string">'settings.gradle.kts'</span>
      - <span class="token string">'Dockerfile'</span>
    branches:
      - main

env:
  DOCKER_IMAGE_NAME: app250416 <span class="token comment"># 공통으로 설정해도 됨 (하지만 output도 병행)</span>

jobs:
  makeTagAndRelease:
    runs-on: ubuntu-latest
    outputs:
      tag_name: <span class="token variable">${{ steps.create_tag.outputs.new_tag }</span><span class="token punctuation">}</span>
    steps:
      - uses: actions/checkout@v4
      - name: Create Tag
        id: create_tag
        uses: mathieudutour/github-tag-action@v6.2
        with:
          github_token: <span class="token variable">${{ secrets.GITHUB_TOKEN }</span><span class="token punctuation">}</span>
      - name: Create Release
        id: create_release
        uses: actions/create-release@v1
        env:
          GITHUB_TOKEN: <span class="token variable">${{ secrets.GITHUB_TOKEN }</span><span class="token punctuation">}</span>
        with:
          tag_name: <span class="token variable">${{ steps.create_tag.outputs.new_tag }</span><span class="token punctuation">}</span>
          release_name: Release <span class="token variable">${{ steps.create_tag.outputs.new_tag }</span><span class="token punctuation">}</span>
          body: <span class="token variable">${{ steps.create_tag.outputs.changelog }</span><span class="token punctuation">}</span>
          draft: <span class="token boolean">false</span>
          prerelease: <span class="token boolean">false</span>

  buildImageAndPush:
    name: 도커 이미지 빌드와 푸시
    needs: makeTagAndRelease
    runs-on: ubuntu-latest
    outputs:
      owner_lc: <span class="token variable">${{ steps.export_owner.outputs.owner_lc }</span><span class="token punctuation">}</span>
      image_name: <span class="token variable">${{ steps.export_image.outputs.image_name }</span><span class="token punctuation">}</span>
    steps:
      - uses: actions/checkout@v4

      - name: application-secret.yml 생성
        env:
          APPLICATION_SECRET: <span class="token variable">${{ secrets.APPLICATION_SECRET }</span><span class="token punctuation">}</span>
        run: <span class="token builtin class-name">echo</span> <span class="token string">"<span class="token variable">$APPLICATION_SECRET</span>"</span> <span class="token operator">&gt;</span> src/main/resources/application-secret.yml

      - name: Docker Buildx 설치
        uses: docker/setup-buildx-action@v2

      - name: 레지스트리 로그인
        uses: docker/login-action@v2
        with:
          registry: ghcr.io
          username: <span class="token variable">${{ github.actor }</span><span class="token punctuation">}</span>
          password: <span class="token variable">${{ secrets.GITHUB_TOKEN }</span><span class="token punctuation">}</span>

      - name: <span class="token builtin class-name">set</span> lower <span class="token keyword">case</span> owner name
        id: export_owner
        run: <span class="token operator">|</span>
          <span class="token assign-left variable">OWNER_LC</span><span class="token operator">=</span><span class="token string">"<span class="token variable">${GITHUB_REPOSITORY_OWNER<span class="token operator">,,</span>}</span>"</span>
          <span class="token builtin class-name">echo</span> <span class="token string">"owner_lc=<span class="token variable">$OWNER_LC</span>"</span> <span class="token operator">&gt;&gt;</span> <span class="token variable">$GITHUB_OUTPUT</span>

      - name: <span class="token builtin class-name">export</span> image name
        id: export_image
        run: <span class="token builtin class-name">echo</span> <span class="token string">"image_name=app250416"</span> <span class="token operator">&gt;&gt;</span> <span class="token variable">$GITHUB_OUTPUT</span>

      - name: 빌드 앤 푸시
        uses: docker/build-push-action@v3
        with:
          context: <span class="token builtin class-name">.</span>
          push: <span class="token boolean">true</span>
          tags: <span class="token operator">|</span>
            ghcr.io/<span class="token variable">${{ steps.export_owner.outputs.owner_lc }</span><span class="token punctuation">}</span>/<span class="token variable">${{ steps.export_image.outputs.image_name }</span><span class="token punctuation">}</span>:<span class="token variable">${{ needs.makeTagAndRelease.outputs.tag_name }</span><span class="token punctuation">}</span>,
            ghcr.io/<span class="token variable">${{ steps.export_owner.outputs.owner_lc }</span><span class="token punctuation">}</span>/<span class="token variable">${{ steps.export_image.outputs.image_name }</span><span class="token punctuation">}</span>:latest

  deploy:
    runs-on: ubuntu-latest
    needs: <span class="token punctuation">[</span> buildImageAndPush <span class="token punctuation">]</span>
    steps:
      - name: AWS SSM Send-Command
        uses: peterkimzz/aws-ssm-send-command@master
        id: ssm
        with:
          aws-region: <span class="token variable">${{ secrets.AWS_REGION }</span><span class="token punctuation">}</span>
          aws-access-key-id: <span class="token variable">${{ secrets.AWS_ACCESS_KEY_ID }</span><span class="token punctuation">}</span>
          aws-secret-access-key: <span class="token variable">${{ secrets.AWS_SECRET_ACCESS_KEY }</span><span class="token punctuation">}</span>
          instance-ids: <span class="token string">"i-097b759b696bcfd26"</span>
          working-directory: /
          comment: Deploy
          command: <span class="token operator">|</span>
            docker pull ghcr.io/<span class="token variable">${{ needs.buildImageAndPush.outputs.owner_lc }</span><span class="token punctuation">}</span>/<span class="token variable">${{ needs.buildImageAndPush.outputs.image_name }</span><span class="token punctuation">}</span>:latest <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>
            docker stop app1 <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>/dev/null <span class="token operator">||</span> <span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>
            docker <span class="token function">rm</span> app1 <span class="token operator"><span class="token file-descriptor important">2</span>&gt;</span>/dev/null <span class="token operator">||</span> <span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>
            docker run -d --name app1 -p <span class="token number">8080</span>:8080 ghcr.io/<span class="token variable">${{ needs.buildImageAndPush.outputs.owner_lc }</span><span class="token punctuation">}</span>/<span class="token variable">${{ needs.buildImageAndPush.outputs.image_name }</span><span class="token punctuation">}</span>:latest <span class="token operator">&amp;&amp;</span> <span class="token punctuation">\</span>
            docker rmi <span class="token variable"><span class="token variable">$(</span>docker images -f <span class="token string">"dangling=true"</span> -q<span class="token variable">)</span></span> <span class="token operator">||</span> <span class="token boolean">true</span>

</code></pre>
<h1 data-nodeid="856" id="41강">41강</h1>
<ul data-nodeid="857">
<li data-nodeid="858">
<p data-nodeid="859"><a data-nodeid="1912" target="_blank" href="https://www.youtube.com/watch?v=7cVPtvv62_E">25 04 16, p 14355, 41강, 도메인 연결, 도메인 연결 확인</a></p>
</li>
</ul>
<h2 data-nodeid="860" id="도메인-구매방법">도메인 구매방법</h2>
<ul data-nodeid="861">
<li data-nodeid="862">
<p data-nodeid="863"><a data-nodeid="1916" target="_blank" href="https://www.slog.gg/p/14350#21%EA%B0%95">도메인 구매 - https://www.slog.gg/p/14350#21강</a></p>
</li>
<li data-nodeid="864">
<p data-nodeid="865">41강을 진행하려면 먼저 도메인을 구매해야 합니다.</p>
</li>
<li data-nodeid="866">
<p data-nodeid="867">가장 저렴한 도메인을 구매해서 진행해주세요.(연간 비용이 만원도 안되는 도메인이 많습니다.)</p>
</li>
</ul>
<h2 data-nodeid="868" id="DNSZI-에서-A-레코드-등록">DNSZI 에서 A 레코드 등록</h2>
<ul data-nodeid="869">
<li data-nodeid="870">
<p data-nodeid="871">도메인 : api.app2.qwas.shop</p>
</li>
<li data-nodeid="872">
<p data-nodeid="873">IP : 43.202.114.23</p>
</li>
</ul>
<h2 data-nodeid="874" id="A-레코드-설정이-전-세계에-잘-반영되었는지-확인">A 레코드 설정이 전 세계에 잘 반영되었는지 확인</h2>
<pre data-nodeid="875" class="lang-bash"><code data-language="bash"><span class="token function">nslookup</span> api.app2.qwas.shop
</code></pre>
<h2 data-nodeid="876" id="확인">확인</h2>
<ul data-nodeid="877">
<li data-nodeid="878">
<p data-nodeid="879"><a data-nodeid="1926" target="_blank" href="http://api.app2.qwas.shop:8080">http://api.app2.qwas.shop:8080</a></p>
</li>
</ul>
<h1 data-nodeid="880" id="42강">42강</h1>
<ul data-nodeid="881">
<li data-nodeid="882">
<p data-nodeid="883"><a data-nodeid="1930" target="_blank" href="https://www.youtube.com/watch?v=zYjczfQv3yU">25 04 16, p 14355, 42강, NGINX PROXY MANAGER 설치, 마스터 계정 생성</a></p>
</li>
</ul>
<h2 data-nodeid="884" id="Nginx-Proxy-Manager">Nginx Proxy Manager</h2>
<ul data-nodeid="885">
<li data-nodeid="886">
<p data-nodeid="887">Nginx Proxy Manager는 Nginx 웹 서버를 GUI로 쉽게 관리할 수 있는 도구입니다.</p>
</li>
<li data-nodeid="888">
<p data-nodeid="889">여러 웹 애플리케이션을 도메인 기반으로 라우팅할 수 있게 해줍니다.</p>
</li>
<li data-nodeid="890">
<p data-nodeid="891">SSL 인증서 자동 발급 및 갱신 기능을 제공합니다.</p>
</li>
<li data-nodeid="892">
<p data-nodeid="893">웹 기반 관리 패널을 통해 프록시 호스트, SSL 인증서, 리다이렉션 등을 설정할 수 있습니다.</p>
</li>
<li data-nodeid="894">
<p data-nodeid="895">도커 컨테이너로 쉽게 배포 가능합니다.</p>
</li>
<li data-nodeid="896">
<p data-nodeid="897">기본적으로 80(HTTP), 443(HTTPS), 81(관리 패널) 포트를 사용합니다.</p>
</li>
<li data-nodeid="898">
<p data-nodeid="899">여러 도메인을 하나의 서버에서 호스팅할 때 유용합니다.</p>
</li>
<li data-nodeid="900">
<p data-nodeid="901">접근 제어 및 기본 인증 기능을 제공합니다.</p>
</li>
<li data-nodeid="902">
<p data-nodeid="903">Let's Encrypt를 통한 무료 SSL 인증서 발급을 지원합니다.</p>
</li>
<li data-nodeid="904">
<p data-nodeid="905">로드 밸런싱 및 스트림 프록시 기능도 제공합니다.</p>
</li>
</ul>
<h2 data-nodeid="906" id="Nginx-Proxy-Manager-설치">Nginx Proxy Manager 설치</h2>
<pre data-nodeid="907" class="lang-bash"><code data-language="bash">docker run -d <span class="token punctuation">\</span>
  --name npm_1 <span class="token punctuation">\</span>
  --restart unless-stopped <span class="token punctuation">\</span>
  -p <span class="token number">80</span>:80 <span class="token punctuation">\</span>
  -p <span class="token number">443</span>:443 <span class="token punctuation">\</span>
  -p <span class="token number">81</span>:81 <span class="token punctuation">\</span>
  -e <span class="token assign-left variable">TZ</span><span class="token operator">=</span>Asia/Seoul <span class="token punctuation">\</span>
  -v /dockerProjects/npm_1/volumes/data:/data <span class="token punctuation">\</span>
  -v /dockerProjects/npm_1/volumes/etc/letsencrypt:/etc/letsencrypt <span class="token punctuation">\</span>
  jc21/nginx-proxy-manager:latest
</code></pre>
<h2 data-nodeid="908" id="nginx-proxy-manager-관리콘솔에-접속">nginx proxy manager 관리콘솔에 접속</h2>
<ul data-nodeid="909">
<li data-nodeid="910">
<p data-nodeid="911"><a data-nodeid="1948" target="_blank" href="http://api.app2.qwas.shop:81">http://api.app2.qwas.shop:81</a></p>
<ul data-nodeid="912">
<li data-nodeid="913">
<p data-nodeid="914">초기 계정</p>
<ul data-nodeid="915">
<li data-nodeid="916">
<p data-nodeid="917">아이디 : admin@example.com</p>
</li>
<li data-nodeid="918">
<p data-nodeid="919">비번 : changeme</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 data-nodeid="920" id="43강">43강</h1>
<ul data-nodeid="921">
<li data-nodeid="922">
<p data-nodeid="923"><a data-nodeid="1955" target="_blank" href="https://www.youtube.com/watch?v=a9k6xJ_VTUM">25 04 17, p 14355, 43강, NGINX가 일단 모든 HTTP 트레픽을 받고 도메인을 기준으로 내부 프록시, HTTPS 처리는 이후에 처리할 예정</a></p>
</li>
<li data-nodeid="924">
<p data-nodeid="925"><img data-nodeid="1958" alt="img" src="https://i.postimg.cc/KzzBxJB7/image.png"></p>
</li>
</ul>
<h2 data-nodeid="926" id="설명">설명</h2>
<ul data-nodeid="927">
<li data-nodeid="928">
<p data-nodeid="929">보통 NGINX는 웹 서버의 앞단에서 모든 HTTP/HTTPS 트래픽을 먼저 수신합니다.</p>
<ul data-nodeid="930">
<li data-nodeid="931">
<p data-nodeid="932">일단 현재는 HTTP 만 처리하고 있습니다.</p>
</li>
<li data-nodeid="933">
<p data-nodeid="934">44강에서 HTTPS 도 처리할 예정입니다.</p>
</li>
</ul>
</li>
<li data-nodeid="935">
<p data-nodeid="936">수신된 요청은 도메인명(Host 헤더)을 기준으로 분류하여 적절한 내부 서비스로 프록시합니다.</p>
</li>
<li data-nodeid="937">
<p data-nodeid="938">예: api.example.com은 내부 A 서버로, web.example.com은 내부 B 서버로 라우팅</p>
</li>
<li data-nodeid="939">
<p data-nodeid="940">이 방식을 '리버스 프록시'라고 하며, 클라이언트는 NGINX만 알고 내부 서비스 구조는 알 수 없습니다.</p>
</li>
<li data-nodeid="941">
<p data-nodeid="942">이렇게 하는 이유:</p>
<ul data-nodeid="943">
<li data-nodeid="944">
<p data-nodeid="945">보안 강화: 실제 애플리케이션 서버가 직접 외부에 노출되지 않음</p>
</li>
<li data-nodeid="946">
<p data-nodeid="947">포트 관리 단순화: 모든 서비스가 80/443 포트로 접근 가능</p>
</li>
<li data-nodeid="948">
<p data-nodeid="949">SSL 종료: NGINX에서 SSL 처리를 담당하여 내부 서비스는 HTTP로만 통신 가능</p>
</li>
<li data-nodeid="950">
<p data-nodeid="951">로드 밸런싱: 여러 서버 인스턴스로 트래픽 분산 가능</p>
</li>
<li data-nodeid="952">
<p data-nodeid="953">캐싱: 정적 콘텐츠 캐싱으로 성능 향상</p>
</li>
<li data-nodeid="954">
<p data-nodeid="955">도메인 기반 라우팅: 하나의 서버에서 여러 서비스 호스팅 가능</p>
</li>
</ul>
</li>
</ul>
<h2 data-nodeid="956" id="nginx가-받은-요청을-스프링부트에게-토스(리버스-프록시)">nginx가 받은 요청을 스프링부트에게 토스(리버스 프록시)</h2>
<div data-nodeid="957"><img src="https://www.plantuml.com/plantuml/svg/VP3FIm917CNlyrTysIvwS7MzA7Fe41qwH7Jm6CHeYxjOEzFCX7gpK0YLIF0GekAXqA0W-eLGVr4p-pyqhcOAqVND-xnvxqiAadBG5m-wTw-7ruWHBls2pqWWmLBJjXfywjwJ7jKi80Bod9Q5on7AqmfOsxHGSZdikR9CUSc2ZLs_wCcjupDtFIPW9mdd88W5HJ-eWFwOX8ss7hog-cKyIetqTOGm5Y6wUHjswsfyhjvhONFw1soSo0sEm3H2QBa34fi_PJ5uKZASJ1BcsyQTja_BHDZ2empqiA56TsZXd45H5mmxkTm-w5vNFp-YW4eN-6mQNaYWMfElbpeuQ3x9S2OO0-EqKZraH0YG59nCsdOoTifsS3QLJSKYFLy5Zme9Z78P_oSwZKpYIY4zwAZMs-z_ot7pflFNbHtBIs08hsxCmVIu1c6dhrjzz0q0"></div>
<h2 data-nodeid="958" id="확인">확인</h2>
<ul data-nodeid="959">
<li data-nodeid="960">
<p data-nodeid="961"><a data-nodeid="1981" target="_blank" href="http://api.app2.qwas.shop">http://api.app2.qwas.shop</a></p>
</li>
</ul>
<h1 data-nodeid="962" id="44강">44강</h1>
<ul data-nodeid="963">
<li data-nodeid="964">
<p data-nodeid="965"><a data-nodeid="1985" target="_blank" href="https://www.youtube.com/watch?v=jqimdwCLdNk">25 04 17, p 14355, 44강, https 활성화, http 로 접속해도 https 로 리다이렉트 하도록 설정</a></p>
</li>
<li data-nodeid="966">
<p data-nodeid="967"><img data-nodeid="1988" alt="img" src="https://i.postimg.cc/k4p84Kv0/image.png"></p>
</li>
</ul>
<h2 data-nodeid="968" id="SSL-인증서와-HTTPS의-관계">SSL 인증서와 HTTPS의 관계</h2>
<ul data-nodeid="969">
<li data-nodeid="970">
<p data-nodeid="971">SSL/TLS 인증서는 HTTPS 통신의 핵심 요소로, 웹사이트의 신원을 증명하고 암호화된 연결을 설정합니다.</p>
</li>
<li data-nodeid="972">
<p data-nodeid="973">HTTPS(Hypertext Transfer Protocol Secure)는 기존 HTTP에 보안 계층(SSL/TLS)을 추가한 프로토콜입니다.</p>
</li>
<li data-nodeid="974">
<p data-nodeid="975">SSL(Secure Sockets Layer)은 초기 보안 프로토콜이었으며, 현재는 더 안전한 TLS(Transport Layer Security)로 대체되었습니다.</p>
</li>
<li data-nodeid="976">
<p data-nodeid="977">SSL/TLS 인증서는 인증 기관(CA)에서 발급하며, 웹사이트의 신원을 검증합니다.</p>
</li>
<li data-nodeid="978">
<p data-nodeid="979">인증서에는 도메인 정보, 공개키, 발급자 정보, 유효기간 등이 포함됩니다.</p>
</li>
<li data-nodeid="980">
<p data-nodeid="981">HTTPS 연결 과정:</p>
<ol data-nodeid="982">
<li data-nodeid="983">
<p data-nodeid="984">클라이언트가 서버에 연결 요청</p>
</li>
<li data-nodeid="985">
<p data-nodeid="986">서버가 SSL/TLS 인증서 제공</p>
</li>
<li data-nodeid="987">
<p data-nodeid="988">클라이언트가 인증서 유효성 검증</p>
</li>
<li data-nodeid="989">
<p data-nodeid="990">안전한 대칭키 교환을 위한 핸드셰이크 진행</p>
</li>
<li data-nodeid="991">
<p data-nodeid="992">암호화된 통신 시작</p>
</li>
</ol>
</li>
<li data-nodeid="993">
<p data-nodeid="994">HTTPS는 데이터 암호화, 무결성 검증, 인증 기능을 제공합니다.</p>
</li>
<li data-nodeid="995">
<p data-nodeid="996">주요 이점:</p>
<ul data-nodeid="997">
<li data-nodeid="998">
<p data-nodeid="999">데이터 도청 방지</p>
</li>
<li data-nodeid="1000">
<p data-nodeid="1001">중간자 공격(MITM) 방지</p>
</li>
<li data-nodeid="1002">
<p data-nodeid="1003">데이터 변조 방지</p>
</li>
<li data-nodeid="1004">
<p data-nodeid="1005">사용자에게 신뢰감 제공</p>
</li>
<li data-nodeid="1006">
<p data-nodeid="1007">검색 엔진 최적화(SEO) 향상</p>
</li>
</ul>
</li>
<li data-nodeid="1008">
<p data-nodeid="1009">모든 웹사이트, 특히 로그인, 결제 등 민감한 정보를 다루는 사이트에는 HTTPS 적용이 필수적입니다.</p>
</li>
<li data-nodeid="1010">
<p data-nodeid="1011">Let's Encrypt와 같은 서비스를 통해 무료로 SSL/TLS 인증서를 발급받을 수 있습니다.</p>
</li>
<li data-nodeid="1012">
<p data-nodeid="1013">브라우저는 HTTPS 연결 시 주소창에 자물쇠 아이콘을 표시하여 안전한 연결임을 사용자에게 알립니다.</p>
</li>
</ul>
<h1 data-nodeid="1014" id="45강">45강</h1>
<ul data-nodeid="1015">
<li data-nodeid="1016">
<p data-nodeid="1017"><a data-nodeid="2016" target="_blank" href="https://www.youtube.com/watch?v=DIbYvmFNXAw">25 04 17, p 14355, 45강, NPM 콘솔 접속시에도 https 적용하기 위해서 npm.s2-e1.qwas.shop 도메인에 A 레코드 설정</a></p>
</li>
</ul>
<h2 data-nodeid="1018" id="DNSZI-에서-A-레코드-등록">DNSZI 에서 A 레코드 등록</h2>
<ul data-nodeid="1019">
<li data-nodeid="1020">
<p data-nodeid="1021">도메인 : npm.s2-e1.qwas.shop</p>
</li>
<li data-nodeid="1022">
<p data-nodeid="1023">IP : 43.202.114.23</p>
</li>
</ul>
<h2 data-nodeid="1024" id="A-레코드-설정이-전-세계에-잘-반영되었는지-확인---터미널에서-아래-명령어-입력">A 레코드 설정이 전 세계에 잘 반영되었는지 확인 - 터미널에서 아래 명령어 입력</h2>
<pre data-nodeid="1025" class="lang-bash"><code data-language="bash"><span class="token function">nslookup</span> npm.s2-e1.qwas.shop
</code></pre>
<h1 data-nodeid="1026" id="46강">46강</h1>
<ul data-nodeid="1027">
<li data-nodeid="1028">
<p data-nodeid="1029"><a data-nodeid="2024" target="_blank" href="https://www.youtube.com/watch?v=6lR9GiGgq5Y">25 04 17, p 14355, 46강, NPM 콘솔 접속시에도 https 적용하기 위한 설정 마무리, npm 에서 npm.s2-e1.qwas.shop 도메인에 대한 처리</a></p>
</li>
<li data-nodeid="1030">
<p data-nodeid="1031"><img data-nodeid="2027" alt="img" src="https://i.postimg.cc/q7g2d18s/image.png"></p>
</li>
<li data-nodeid="1032">
<p data-nodeid="1033"><img data-nodeid="2030" alt="img" src="https://i.postimg.cc/hGwT4VrH/image.png"></p>
</li>
</ul>
<h2 data-nodeid="1034" id="nginx가-받은-요청을-nginx-관리-콘솔(81번-포트)에게-토스(리버스-프록시)">nginx가 받은 요청을 nginx 관리 콘솔(81번 포트)에게 토스(리버스 프록시)</h2>
<div data-nodeid="1035"><img src="https://www.plantuml.com/plantuml/svg/RP31IW9H58RtzoaEqqONZeqROnOjeaMBY1OkWnXjS0PhxktU6-fk2erGYGGXCHKNbGK64HP2zKBTC-_GD9OcjJtd_mxVVwoSf1pmP8ITU-nV46PnwUPSPdaID3LfgDuRTXvnu6jW2SXoMXGs9oHBIw2jqrp1vh1booBb1GsMDjsy8zVsZ-p5CnuxI1WxNipBkru9yFKkg3QmDrQLitXqDPel8XPZ4OArww1LKSDZzU87jSa_S9WajhS7eH4XinwGMFsHDS6HaWapcGmzT95As8P-MBI4BXpA0FjLDRWXtzalBB8nOIEJsGRijF3fWKp5vpl6QQcyoomXG58mqYdTIElBkc6k6B5ecYs3GuK4HhcC_y4_nhww7U5x6qzReK0JBwiGN5K0UqrLVvx7PmMcBjFjBzDPMnE2ytRu51pw43IxME-IJm00"></div>
<h2 data-nodeid="1036" id="nginx-proxy-manager-관리콘솔에-접속">nginx proxy manager 관리콘솔에 접속</h2>
<ul data-nodeid="1037">
<li data-nodeid="1038">
<p data-nodeid="1039"><a data-nodeid="2035" target="_blank" href="https://npm.s2-e1.qwas.shop">https://npm.s2-e1.qwas.shop</a></p>
</li>
</ul>
<h1 data-nodeid="1040" id="47강">47강</h1>
<ul data-nodeid="1041">
<li data-nodeid="1042">
<p data-nodeid="1043"><a data-nodeid="2039" target="_blank" href="https://www.youtube.com/watch?v=q019GjylWyo">25 04 17, p 14355, 47강, 네이버 클라우드 플랫폼 컴퓨팅 서비스 소개</a></p>
</li>
<li data-nodeid="1044">
<p data-nodeid="1045"><a data-nodeid="2042" target="_blank" href="https://www.ncloud.com">NCP</a></p>
</li>
<li data-nodeid="1046">
<p data-nodeid="1047"><a data-nodeid="2045" target="_blank" href="https://console.ncloud.com/dashboard">NCP - 콘솔</a></p>
</li>
</ul>
<h2 data-nodeid="1048" id="루트계정-비밀번호-변경">루트계정 비밀번호 변경</h2>
<pre data-nodeid="1049" class="lang-bash"><code data-language="bash"><span class="token function">passwd</span>
</code></pre>
<h2 data-nodeid="1050" id="메인계정(user1)-생성">메인계정(user1) 생성</h2>
<pre data-nodeid="1051" class="lang-bash"><code data-language="bash">adduser user1
</code></pre>
<h2 data-nodeid="1052" id="메인계정(user1)-비밀번호-변경">메인계정(user1) 비밀번호 변경</h2>
<pre data-nodeid="1053" class="lang-bash"><code data-language="bash"><span class="token function">passwd</span> user1
</code></pre>
<h2 data-nodeid="1054" id="/etc/sudoers-파일-수정할-수-있도록-쓰기-권한-부여">/etc/sudoers 파일 수정할 수 있도록 쓰기 권한 부여</h2>
<pre data-nodeid="1055" class="lang-bash"><code data-language="bash"><span class="token function">sudo</span> <span class="token function">chmod</span> <span class="token number">640</span> /etc/sudoers
</code></pre>
<h2 data-nodeid="1056" id="메인계정(user1)에-sudo-권한-부여">메인계정(user1)에 sudo 권한 부여</h2>
<ul data-nodeid="1057">
<li data-nodeid="1058">
<p data-nodeid="1059"><code data-nodeid="2051" data-backticks="1">vim /etc/sudoers</code></p>
</li>
<li data-nodeid="1060">
<p data-nodeid="1061">root ALL=(ALL) ALL # 이 라인 밑 부분에</p>
</li>
<li data-nodeid="1062">
<p data-nodeid="1063">user1 ALL=(ALL) ALL # 이 라인을 추가</p>
</li>
<li data-nodeid="1064">
<p data-nodeid="1065">저장시 꼭 <code data-nodeid="2055" data-backticks="1">:wq!</code> 로 저장</p>
</li>
</ul>
<h2 data-nodeid="1066" id="외부에서-pem-파일을-통해서-root-계정으로-ssh-접속방법">외부에서 pem 파일을 통해서 root 계정으로 ssh 접속방법</h2>
<pre data-nodeid="1067" class="lang-bash"><code data-language="bash"><span class="token function">ssh</span> -i pem-file-name.pem root@public-ip
<span class="token comment"># EX # ssh -i auth-key-2025-03-17.pem root@223.130.134.219</span>
</code></pre>
<h2 data-nodeid="1068" id="외부에서-메인계정으로-통해서-ssh-접속방법">외부에서 메인계정으로 통해서 ssh 접속방법</h2>
<pre data-nodeid="1069" class="lang-bash"><code data-language="bash"><span class="token function">ssh</span> user1@public-ip
<span class="token comment"># EX # ssh user1@223.130.134.219</span>
</code></pre>
<h2 data-nodeid="1070" id="nginx-설치(도커-x)-및-실행(메인계정으로-진행)">nginx 설치(도커 x) 및 실행(메인계정으로 진행)</h2>
<pre data-nodeid="1071" class="lang-bash"><code data-language="bash"><span class="token function">sudo</span> dnf <span class="token function">install</span> nginx -y
<span class="token function">sudo</span> systemctl start nginx
<span class="token function">curl</span> http://localhost <span class="token comment"># 확인</span>
</code></pre>
<h1 data-nodeid="1072" id="48강">48강</h1>
<ul data-nodeid="1073">
<li data-nodeid="1074">
<p data-nodeid="1075"><a data-nodeid="2063" target="_blank" href="https://www.youtube.com/watch?v=K7xsvFeQWok">25 04 17, p 14355, 48강, NPC 자원 해제 방법</a></p>
</li>
</ul>
<h1 data-nodeid="1076" id="49강">49강</h1>
<ul data-nodeid="1077">
<li data-nodeid="1078">
<p data-nodeid="1079"><a data-nodeid="2067" target="_blank" href="https://www.youtube.com/watch?v=8gYrtmILYR4">25 04 17, p 14355, 49강, nginx proxy manager, redis, mysql, mysql 설정까지 한방에 끝내는 테라폼 프로젝트</a></p>
</li>
<li data-nodeid="1080">
<p data-nodeid="1081"><a data-nodeid="2070" target="_blank" href="https://github.com/chacha86/terra-250417">리포지터리 - https://github.com/chacha86/terra-250417</a></p>
</li>
<li data-nodeid="1082">
<p data-nodeid="1083"><a data-nodeid="2073" target="_blank" href="https://github.com/chacha86/terra-250417/commit/6a5561afe9548891b8f4480f31fec9f47febabdb">Git</a></p>
</li>
</ul>
<h2 data-nodeid="1084" id="만일-리소스-생성이-안된다면-다른-테라폼-프로젝트에서-생성한-리소스를-destroy-하고-다시-생성">만일 리소스 생성이 안된다면 다른 테라폼 프로젝트에서 생성한 리소스를 destroy 하고 다시 생성</h2>
<pre data-nodeid="1085" class="lang-bash"><code data-language="bash">terraform destroy
</code></pre>
<h2 data-nodeid="1086" id="variables.tf">variables.tf</h2>
<pre data-nodeid="1087" class="lang-hcl"><code data-language="hcl"><span class="token keyword">variable<span class="token type variable"> "prefix" </span></span><span class="token punctuation">{</span>
  <span class="token property">description</span> <span class="token punctuation">=</span> <span class="token string">"Prefix for all resources"</span>
  <span class="token property">default</span>     <span class="token punctuation">=</span> <span class="token string">"dev"</span>
<span class="token punctuation">}</span>

<span class="token keyword">variable<span class="token type variable"> "region" </span></span><span class="token punctuation">{</span>
  <span class="token property">description</span> <span class="token punctuation">=</span> <span class="token string">"region"</span>
  <span class="token property">default</span>     <span class="token punctuation">=</span> <span class="token string">"ap-northeast-2"</span>
<span class="token punctuation">}</span>

<span class="token keyword">variable<span class="token type variable"> "nickname" </span></span><span class="token punctuation">{</span>
  <span class="token property">description</span> <span class="token punctuation">=</span> <span class="token string">"nickname"</span>
  <span class="token property">default</span>     <span class="token punctuation">=</span> <span class="token string">"jhs512"</span>
<span class="token punctuation">}</span>
</code></pre>
<h2 data-nodeid="1088" id="main.tf">main.tf</h2>
<pre data-nodeid="1089" class="lang-hcl"><code data-language="hcl"><span class="token keyword">terraform</span> <span class="token punctuation">{</span>
  <span class="token comment">// aws 라이브러리 불러옴</span>
  <span class="token keyword">required_providers</span> <span class="token punctuation">{</span>
    <span class="token property">aws</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
      <span class="token property">source</span> <span class="token punctuation">=</span> <span class="token string">"hashicorp/aws"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># AWS 설정 시작</span>
<span class="token keyword">provider<span class="token type variable"> "aws" </span></span><span class="token punctuation">{</span>
  <span class="token property">region</span> <span class="token punctuation">=</span> var.region
<span class="token punctuation">}</span>
<span class="token comment"># AWS 설정 끝</span>

<span class="token comment"># VPC 설정 시작</span>
<span class="token keyword">resource <span class="token type variable">"aws_vpc"</span></span> <span class="token string">"vpc_1"</span> <span class="token punctuation">{</span>
  <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"10.0.0.0/16"</span>

  <span class="token property">enable_dns_support</span>   <span class="token punctuation">=</span> <span class="token boolean">true</span>
  <span class="token property">enable_dns_hostnames</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-vpc-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.1.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>a"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_2"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.2.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>b"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-2"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_subnet"</span></span> <span class="token string">"subnet_3"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span>                  <span class="token punctuation">=</span> aws_vpc.vpc_1.id
  <span class="token property">cidr_block</span>              <span class="token punctuation">=</span> <span class="token string">"10.0.3.0/24"</span>
  <span class="token property">availability_zone</span>       <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">region</span><span class="token punctuation">}</span></span>c"</span>
  <span class="token property">map_public_ip_on_launch</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-subnet-3"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_internet_gateway"</span></span> <span class="token string">"igw_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-igw-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table"</span></span> <span class="token string">"rt_1"</span> <span class="token punctuation">{</span>
  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token keyword">route</span> <span class="token punctuation">{</span>
    <span class="token property">cidr_block</span> <span class="token punctuation">=</span> <span class="token string">"0.0.0.0/0"</span>
    <span class="token property">gateway_id</span> <span class="token punctuation">=</span> aws_internet_gateway.igw_1.id
  <span class="token punctuation">}</span>

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-rt-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_1"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_1.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_2"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_2.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_route_table_association"</span></span> <span class="token string">"association_3"</span> <span class="token punctuation">{</span>
  <span class="token property">subnet_id</span>      <span class="token punctuation">=</span> aws_subnet.subnet_3.id
  <span class="token property">route_table_id</span> <span class="token punctuation">=</span> aws_route_table.rt_1.id
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"aws_security_group"</span></span> <span class="token string">"sg_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-sg-1"</span>

  <span class="token keyword">ingress</span> <span class="token punctuation">{</span>
    <span class="token property">from_port</span> <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">to_port</span>   <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">protocol</span>  <span class="token punctuation">=</span> <span class="token string">"all"</span>
    <span class="token property">cidr_blocks</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"0.0.0.0/0"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">egress</span> <span class="token punctuation">{</span>
    <span class="token property">from_port</span> <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">to_port</span>   <span class="token punctuation">=</span> <span class="token number">0</span>
    <span class="token property">protocol</span>  <span class="token punctuation">=</span> <span class="token string">"all"</span>
    <span class="token property">cidr_blocks</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span><span class="token string">"0.0.0.0/0"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token property">vpc_id</span> <span class="token punctuation">=</span> aws_vpc.vpc_1.id

  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-sg-1"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 설정 시작</span>

<span class="token comment"># EC2 역할 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role"</span></span> <span class="token string">"ec2_role_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-ec2-role-1"</span>

  <span class="token comment"># 이 역할에 대한 신뢰 정책 설정. EC2 서비스가 이 역할을 가정할 수 있도록 설정</span>
  <span class="token property">assume_role_policy</span> <span class="token punctuation">=</span> <span class="token heredoc string">&lt;&lt;EOF
  {
    "Version": "2012-10-17",
    "Statement": [
      {
        "Sid": "",
        "Action": "sts:AssumeRole",
        "Principal": {
            "Service": "ec2.amazonaws.com"
        },
        "Effect": "Allow"
      }
    ]
  }
  EOF</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 역할에 AmazonS3FullAccess 정책을 부착</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role_policy_attachment"</span></span> <span class="token string">"s3_full_access"</span> <span class="token punctuation">{</span>
  <span class="token property">role</span>       <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
  <span class="token property">policy_arn</span> <span class="token punctuation">=</span> <span class="token string">"arn:aws:iam::aws:policy/AmazonS3FullAccess"</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 역할에 AmazonEC2RoleforSSM 정책을 부착</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_role_policy_attachment"</span></span> <span class="token string">"ec2_ssm"</span> <span class="token punctuation">{</span>
  <span class="token property">role</span>       <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
  <span class="token property">policy_arn</span> <span class="token punctuation">=</span> <span class="token string">"arn:aws:iam::aws:policy/service-role/AmazonEC2RoleforSSM"</span>
<span class="token punctuation">}</span>

<span class="token comment"># IAM 인스턴스 프로파일 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_iam_instance_profile"</span></span> <span class="token string">"instance_profile_1"</span> <span class="token punctuation">{</span>
  <span class="token property">name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-instance-profile-1"</span>
  <span class="token property">role</span> <span class="token punctuation">=</span> aws_iam_role.ec2_role_1.name
<span class="token punctuation">}</span>

<span class="token keyword">locals</span> <span class="token punctuation">{</span>
  <span class="token property">ec2_user_data_base</span> <span class="token punctuation">=</span> <span class="token heredoc string">&lt;&lt;-END_OF_FILE
#!/bin/bash
# 가상 메모리 4GB 설정
sudo dd if=/dev/zero of=/swapfile bs=128M count=32
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
sudo sh -c 'echo "/swapfile swap swap defaults 0 0" &gt;&gt; /etc/fstab'

# 도커 설치 및 실행/활성화
yum install docker -y
systemctl enable docker
systemctl start docker

# 도커 네트워크 생성
docker network create common

# nginx 설치
docker run -d \
  --name npm_1 \
  --restart unless-stopped \
  --network common \
  -p 80:80 \
  -p 443:443 \
  -p 81:81 \
  -e TZ=Asia/Seoul \
  -v /dockerProjects/npm_1/volumes/data:/data \
  -v /dockerProjects/npm_1/volumes/etc/letsencrypt:/etc/letsencrypt \
  jc21/nginx-proxy-manager:latest

# redis 설치
docker run -d \
  --name=redis_1 \
  --restart unless-stopped \
  --network common \
  -p 6379:6379 \
  -e TZ=Asia/Seoul \
  redis --requirepass lldj123414

# mysql 설치
docker run -d \
  --name mysql_1 \
  --restart unless-stopped \
  -v /dockerProjects/mysql_1/volumes/var/lib/mysql:/var/lib/mysql \
  -v /dockerProjects/mysql_1/volumes/etc/mysql/conf.d:/etc/mysql/conf.d \
  --network common \
  -p 3306:3306 \
  -e MYSQL_ROOT_PASSWORD=lldj123414 \
  -e TZ=Asia/Seoul \
  mysql:latest

# MySQL 컨테이너가 준비될 때까지 대기
echo "MySQL이 기동될 때까지 대기 중..."
until docker exec mysql_1 mysql -uroot -plldj123414 -e "SELECT 1" &amp;&gt; /dev/null; do
  echo "MySQL이 아직 준비되지 않음. 5초 후 재시도..."
  sleep 5
done
echo "MySQL이 준비됨. 초기화 스크립트 실행 중..."

docker exec mysql_1 mysql -uroot -plldj123414 -e "
CREATE USER 'lldjlocal'@'127.0.0.1' IDENTIFIED WITH caching_sha2_password BY '1234';
CREATE USER 'lldjlocal'@'172.18.%.%' IDENTIFIED WITH caching_sha2_password BY '1234';
CREATE USER 'lldj'@'%' IDENTIFIED WITH caching_sha2_password BY 'lldj123414';

GRANT ALL PRIVILEGES ON *.* TO 'lldjlocal'@'127.0.0.1';
GRANT ALL PRIVILEGES ON *.* TO 'lldjlocal'@'172.18.%.%';
GRANT ALL PRIVILEGES ON *.* TO 'lldj'@'%';

CREATE DATABASE glog_prod;

FLUSH PRIVILEGES;
"

END_OF_FILE</span>
<span class="token punctuation">}</span>

<span class="token comment"># EC2 인스턴스 생성</span>
<span class="token keyword">resource <span class="token type variable">"aws_instance"</span></span> <span class="token string">"ec2_1"</span> <span class="token punctuation">{</span>
  <span class="token comment"># 사용할 AMI ID</span>
  <span class="token property">ami</span> <span class="token punctuation">=</span> <span class="token string">"ami-062cddb9d94dcf95d"</span>
  <span class="token comment"># EC2 인스턴스 유형</span>
  <span class="token property">instance_type</span> <span class="token punctuation">=</span> <span class="token string">"t3.micro"</span>
  <span class="token comment"># 사용할 서브넷 ID</span>
  <span class="token property">subnet_id</span> <span class="token punctuation">=</span> aws_subnet.subnet_2.id
  <span class="token comment"># 적용할 보안 그룹 ID</span>
  <span class="token property">vpc_security_group_ids</span> <span class="token punctuation">=</span> <span class="token punctuation">[</span>aws_security_group.sg_1.id<span class="token punctuation">]</span>
  <span class="token comment"># 퍼블릭 IP 연결 설정</span>
  <span class="token property">associate_public_ip_address</span> <span class="token punctuation">=</span> <span class="token boolean">true</span>

  <span class="token comment"># 인스턴스에 IAM 역할 연결</span>
  <span class="token property">iam_instance_profile</span> <span class="token punctuation">=</span> aws_iam_instance_profile.instance_profile_1.name

  <span class="token comment"># 인스턴스에 태그 설정</span>
  <span class="token property">tags</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
    <span class="token property">Name</span> <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span><span class="token keyword">var</span><span class="token punctuation">.</span><span class="token type variable">prefix</span><span class="token punctuation">}</span></span>-ec2-1"</span>
  <span class="token punctuation">}</span>

  <span class="token comment"># 루트 볼륨 설정</span>
  <span class="token keyword">root_block_device</span> <span class="token punctuation">{</span>
    <span class="token property">volume_type</span> <span class="token punctuation">=</span> <span class="token string">"gp3"</span>
    <span class="token property">volume_size</span> <span class="token punctuation">=</span> <span class="token number">12</span> <span class="token comment"># 볼륨 크기를 12GB로 설정</span>
  <span class="token punctuation">}</span>

  <span class="token property">user_data</span> <span class="token punctuation">=</span> <span class="token heredoc string">&lt;&lt;-EOF
${local.ec2_user_data_base}
EOF</span>
<span class="token punctuation">}</span>
</code></pre>
<h1 data-nodeid="1090" id="50강">50강</h1>
<ul data-nodeid="1091">
<li data-nodeid="1092">
<p data-nodeid="1093"><a data-nodeid="2080" target="_blank" href="https://www.youtube.com/watch?v=AJyYf-dD4Yg">25 04 17, p 14355, 50강, 운영환경까지 고려한 스프링부트 프로젝트 생성</a></p>
</li>
<li data-nodeid="1094">
<p data-nodeid="1095"><a data-nodeid="2083" target="_blank" href="https://github.com/chacha86/back-250417">리포지터리 - https://github.com/chacha86/back-250417</a></p>
</li>
<li data-nodeid="1096">
<p data-nodeid="1097"><a data-nodeid="2086" target="_blank" href="https://github.com/chacha86/back-250417/commit/1eca9272dcd3935c284545375c0af54c106bc0ef">Git</a></p>
</li>
<li data-nodeid="1098">
<p data-nodeid="1099"><img data-nodeid="2089" alt="img" src="https://i.postimg.cc/zGH0CDQZ/image.png"></p>
</li>
</ul>
<h1 data-nodeid="1100" id="51강">51강</h1>
<ul data-nodeid="1101">
<li data-nodeid="1102">
<p data-nodeid="1103"><a data-nodeid="2093" target="_blank" href="https://www.youtube.com/watch?v=DuLy22rQXJk">25 04 17, p 14355, 51강, 새로 ec2 인스턴스가 생성되었다면 docker login을 다시 해줘야 한다.</a></p>
</li>
</ul>
<pre data-nodeid="1104" class="lang-bash"><code data-language="bash">docker login ghcr.io -u chacha8 -p  <span class="token comment"># 이 명령어를 입력하면 키 입력란이 나오는데, read:packages 권한을 가진 GITHUB 엑세스 토큰을 입력하면 됩니다. 이 작업은 EC2가 새로 생성될 때 마다 1번씩만 해주면 됩니다.</span>
</code></pre>
<h1 data-nodeid="1105" id="52강">52강</h1>
<ul data-nodeid="1106">
<li data-nodeid="1107">
<p data-nodeid="1108"><a data-nodeid="2097" target="_blank" href="https://www.youtube.com/watch?v=K7KWH7MZVdA">25 04 17, p 14355, 52강, MySQL에 대해서 개발, 운영, 테스트환경별 설정파일 세팅</a></p>
</li>
<li data-nodeid="1109">
<p data-nodeid="1110"><a data-nodeid="2100" target="_blank" href="https://github.com/chacha86/back-250417/commit/98c93ca44fe54206e237107cfb063260238b989d">Git</a></p>
</li>
</ul>
<h1 data-nodeid="1111" id="53강">53강</h1>
<ul data-nodeid="1112">
<li data-nodeid="1113">
<p data-nodeid="1114"><a data-nodeid="2104" target="_blank" href="https://www.youtube.com/watch?v=6iYJcEX4TXE">25 04 17, p 14355, 53강 - 1, Redis에 대해서 개발, 운영, 테스트환경별 설정파일 세팅, 자동으로 Post 2개 생성되도록</a></p>
</li>
<li data-nodeid="1115">
<p data-nodeid="1116"><a data-nodeid="2107" target="_blank" href="https://www.youtube.com/watch?v=mDk-s65Q9dE">25 04 17, p 14355, 53강 - 2, 개발환경과 운영환경에서 사용하는 dbms와 redis가 다르다</a></p>
</li>
<li data-nodeid="1117">
<p data-nodeid="1118"><a data-nodeid="2110" target="_blank" href="https://github.com/chacha86/back-250417/commit/e2b3b007fb59708f0669e223dddf3b4c88d5d788">Git</a></p>
</li>
</ul>
<h1 data-nodeid="1119" id="54강">54강</h1>
<ul data-nodeid="1120">
<li data-nodeid="1121">
<p data-nodeid="1122"><a data-nodeid="2114" target="_blank" href="https://www.youtube.com/watch?v=siZRobhkujw">25 04 17, p 14355, 54강, Redis Desktop Manager로 redis 서버 gui로 관리할 수 있다.</a></p>
<ul data-nodeid="1123">
<li data-nodeid="1124">
<p data-nodeid="1125"><a data-nodeid="2117" target="_blank" href="https://github.com/qishibo/AnotherRedisDesktopManager/releases">Redis Desktop Manager 다운로드 - https://github.com/qishibo/AnotherRedisDesktopManager/releases</a></p>
</li>
</ul>
</li>
</ul>
<h1 data-nodeid="1126" id="55강">55강</h1>
<ul data-nodeid="1127">
<li data-nodeid="1128">
<p data-nodeid="1129"><a data-nodeid="2121" target="_blank" href="https://www.youtube.com/watch?v=Xb8b8KxOs84">25 04 17, p 14355, 55강, 자동으로 redis 캐시 데이터 생성</a></p>
</li>
<li data-nodeid="1130">
<p data-nodeid="1131"><a data-nodeid="2124" target="_blank" href="https://github.com/chacha86/back-250417/commit/f2073607012f0491f218eb01b94c890b6bd8e190">Git</a></p>
</li>
</ul>
<h1 data-nodeid="1132" id="56강">56강</h1>
<ul data-nodeid="1133">
<li data-nodeid="1134">
<p data-nodeid="1135"><a data-nodeid="2128" target="_blank" href="https://www.youtube.com/watch?v=XplcAE1zgi0">25 04 17, p 14355, 56강, GITHUB ACTION을 이용한 CI/CD</a></p>
</li>
<li data-nodeid="1136">
<p data-nodeid="1137"><a data-nodeid="2131" target="_blank" href="https://github.com/chacha86/back-250417/commit/a3debf4751f40ad28ceb1684836e340d0ee84e0d">Git</a></p>
</li>
</ul>
<h1 data-nodeid="1138" id="57강">57강</h1>
<ul data-nodeid="1139">
<li data-nodeid="1140">
<p data-nodeid="1141"><a data-nodeid="2135" target="_blank" href="https://www.youtube.com/watch?v=WT3BiBTEGv4">25 04 18, p 14355, 57강, app1 컨테이너를 common 네트워크에 연결하여 성공</a></p>
</li>
<li data-nodeid="1142">
<p data-nodeid="1143"><a data-nodeid="2138" target="_blank" href="https://github.com/chacha86/back-250417/commit/04932a7fbd6a1607957aa3be43a4d70a50058db8">Git</a></p>
</li>
</ul>
<h2 data-nodeid="1144" id=".github/workflows/deploy.yml">.github/workflows/deploy.yml</h2>
<pre data-nodeid="1145" class="lang-yml"><code data-language="yml"><span class="token key atrule">name</span><span class="token punctuation">:</span> deploy
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token comment"># ...</span>
<span class="token key atrule">jobs</span><span class="token punctuation">:</span>
  <span class="token key atrule">makeTagAndRelease</span><span class="token punctuation">:</span>
    <span class="token comment"># ...</span>
  <span class="token key atrule">buildImageAndPush</span><span class="token punctuation">:</span>
    <span class="token comment"># ...</span>
  <span class="token key atrule">deploy</span><span class="token punctuation">:</span>
    <span class="token comment"># ...</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> AWS SSM Send<span class="token punctuation">-</span>Command
        <span class="token comment"># ...</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token comment"># ...</span>
          <span class="token key atrule">command</span><span class="token punctuation">:</span> <span class="token punctuation">|</span><span class="token scalar string">
            # ...
            docker run -d --name app1 --network common -p 8080:8080 ghcr.io/${{ needs.buildImageAndPush.outputs.owner_lc }}/${{ needs.buildImageAndPush.outputs.image_name }}:latest &amp;&amp; \
            # ...</span>
</code></pre>
<h1 data-nodeid="1146" id="58강">58강</h1>
<ul data-nodeid="1147">
<li data-nodeid="1148">
<p data-nodeid="1149"><a data-nodeid="2143" target="_blank" href="https://www.youtube.com/watch?v=T-wn5AigbDM">25 04 18, p 14355, 58강, dbeaver와 redis desktop manager를 이용하여 운영환경에서 잘 실행되는지 확인</a></p>
</li>
</ul>
<h1 data-nodeid="1150" id="59강">59강</h1>
<ul data-nodeid="1151">
<li data-nodeid="1152">
<p data-nodeid="1153"><a data-nodeid="2147" target="_blank" href="https://www.youtube.com/watch?v=dgONSg5q6Bw">25 04 18, p 14355, 59강, 도메인 연결을 위한 작업</a></p>
</li>
<li data-nodeid="1154">
<p data-nodeid="1155"><img data-nodeid="2150" alt="img" src="https://i.postimg.cc/1tZr3PmG/image.png"></p>
</li>
</ul>
<h2 data-nodeid="1156" id="nginx-proxy-manager-관리콘솔에-접속">nginx proxy manager 관리콘솔에 접속</h2>
<ul data-nodeid="1157">
<li data-nodeid="1158">
<p data-nodeid="1159"><a data-nodeid="2154" target="_blank" href="http://3.34.128.79">http://3.34.128.79</a></p>
<ul data-nodeid="1160">
<li data-nodeid="1161">
<p data-nodeid="1162">초기 계정</p>
<ul data-nodeid="1163">
<li data-nodeid="1164">
<p data-nodeid="1165">아이디 : admin@example.com</p>
</li>
<li data-nodeid="1166">
<p data-nodeid="1167">비번 : changeme</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 data-nodeid="1168" id="DNSZI-에서-A-레코드-등록">DNSZI 에서 A 레코드 등록</h2>
<ul data-nodeid="1169">
<li data-nodeid="1170">
<p data-nodeid="1171">도메인 : api.app3.qwas.shop</p>
</li>
<li data-nodeid="1172">
<p data-nodeid="1173">IP : 3.34.128.79</p>
</li>
</ul>
<h1 data-nodeid="1174" id="60강">60강</h1>
<ul data-nodeid="1175">
<li data-nodeid="1176">
<p data-nodeid="1177"><a data-nodeid="2164" target="_blank" href="https://www.youtube.com/watch?v=gHH33edRpGo">25 04 18, p 14355, 60강,  https 활성화를 위한 작업</a></p>
</li>
</ul>
</div></div><div class="mt-4 text-sm text-muted-foreground">수정 : 25. 04. 18. 오전 08:26</div></div><div data-slot="card-footer" class="flex items-center px-6"><div class="grid gap-4"></div></div></div></main><section aria-label="Notifications alt+T" tabindex="-1" aria-live="polite" aria-relevant="additions text" aria-atomic="false"></section></main><footer class="p-2 flex justify-center"><a data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive text-primary underline-offset-4 hover:underline h-9 px-4 py-2 has-[>svg]:px-3" href="/"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-copyright"><circle cx="12" cy="12" r="10"></circle><path d="M14.83 14.83a4 4 0 1 1 0-5.66"></path></svg> 2025 슬로그</a><a data-slot="button" class="inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-[color,box-shadow] disabled:pointer-events-none disabled:opacity-50 [&amp;_svg]:pointer-events-none [&amp;_svg:not([class*='size-'])]:size-4 shrink-0 [&amp;_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive text-primary underline-offset-4 hover:underline h-9 px-4 py-2 has-[>svg]:px-3" href="/adm/member/login"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-log-in"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"></path><polyline points="10 17 15 12 10 7"></polyline><line x1="15" x2="3" y1="12" y2="12"></line></svg> 관리자 로그인</a></footer></div><script src="/_next/static/chunks/webpack-719341c009761ec7.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[7081,[\"5514\",\"static/chunks/5514-6334018b6430ffe5.js\",\"6874\",\"static/chunks/6874-41ff0b9603d87107.js\",\"649\",\"static/chunks/649-e7460d83749ab18f.js\",\"5540\",\"static/chunks/5540-eee45d282ea97ccc.js\",\"6766\",\"static/chunks/6766-3abcb46c51a6cba8.js\",\"6403\",\"static/chunks/6403-5572390b6fe64ac9.js\",\"655\",\"static/chunks/655-adb5e854295ed106.js\",\"7177\",\"static/chunks/app/layout-7b8d9f288b3cc27f.js\"],\"ClientLayout\"]\n3:I[7555,[],\"\"]\n4:I[1295,[],\"\"]\n5:I[9665,[],\"MetadataBoundary\"]\n7:I[9074,[\"5514\",\"static/chunks/5514-6334018b6430ffe5.js\",\"6874\",\"static/chunks/6874-41ff0b9603d87107.js\",\"649\",\"static/chunks/649-e7460d83749ab18f.js\",\"5540\",\"static/chunks/5540-eee45d282ea97ccc.js\",\"6766\",\"static/chunks/6766-3abcb46c51a6cba8.js\",\"6403\",\"static/chunks/6403-5572390b6fe64ac9.js\",\"655\",\"static/chunks/655-adb5e854295ed106.js\",\"7177\",\"static/chunks/app/layout-7b8d9f288b3cc27f.js\"],\"Toaster\"]\na:I[9665,[],\"OutletBoundary\"]\nd:I[4911,[],\"AsyncMetadataOutlet\"]\nf:I[9665,[],\"ViewportBoundary\"]\n11:I[6614,[],\"\"]\n12:\"$Sreact.suspense\"\n13:I[4911,[],\"AsyncMetadata\"]\n:HL[\"/_next/static/media/ff840cfebfb63b0c-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/633df8daa41589d8.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"u7vfs5tM1_eozUZMnV0Tp\",\"p\":\"\",\"c\":[\"\",\"post\",\"list?page=1\u0026pageSize=30\u0026searchKeywordType=all\u0026searchKeyword=\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"post\",{\"children\":[\"list\",{\"children\":[\"__PAGE__?{\\\"page\\\":\\\"1\\\",\\\"pageSize\\\":\\\"30\\\",\\\"searchKeywordType\\\":\\\"all\\\",\\\"searchKeyword\\\":\\\"\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/633df8daa41589d8.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"ko\",\"suppressHydrationWarning\":true,\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_fde3a9 __className_fde3a9 antialiased\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col min-h-[100dvh] bg-background\",\"vaul-drawer-wrapper\":\"true\",\"children\":[\"$\",\"$L2\",null,{\"children\":[[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],[\"$\",\"$L5\",null,{\"children\":\"$L6\"}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"$L7\",null,{}]]}]}]}]}]]}],{\"children\":[\"post\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"list\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L3\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L4\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L8\",[\"$\",\"$L5\",null,{\"children\":\"$L9\"}],null,[\"$\",\"$La\",null,{\"children\":[\"$Lb\",\"$Lc\",[\"$\",\"$Ld\",null,{\"promise\":\"$@e\"}]]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"7Z9nB76VKRfwP9HFGjuPm\",{\"children\":[[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$11\",\"$undefined\"],\"s\":false,\"S\":false}\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"$12\",null,{\"fallback\":null,\"children\":[\"$\",\"$L13\",null,{\"promise\":\"$@14\"}]}]\n9:[\"$\",\"$12\",null,{\"fallback\":null,\"children\":[\"$\",\"$L13\",null,{\"promise\":\"$@15\"}]}]\nc:null\n14:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"슬로그\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"슬로그는 당신을 위한 기술 블로그 입니다.\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]],\"error\":null,\"digest\":\"$undefined\"}\n15:{\"metadata\":\"$14:metadata\",\"error\":null,\"digest\":\"$undefined\"}\ne:{\"metadata\":\"$14:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n10:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nb:null\n"])</script><next-route-announcer style="position: absolute;"></next-route-announcer><script>self.__next_f.push([1,"16:I[4833,[\"5514\",\"static/chunks/5514-6334018b6430ffe5.js\",\"6874\",\"static/chunks/6874-41ff0b9603d87107.js\",\"649\",\"static/chunks/649-e7460d83749ab18f.js\",\"6766\",\"static/chunks/6766-3abcb46c51a6cba8.js\",\"1072\",\"static/chunks/1072-9974d843cdb1d1c3.js\",\"6403\",\"static/chunks/6403-5572390b6fe64ac9.js\",\"8887\",\"static/chunks/8887-05b6b6cedfe763fd.js\",\"5159\",\"static/chunks/5159-3c2e5c6355d98e74.js\",\"8223\",\"static/chunks/8223-ff107a134d13fc94.js\",\"2070\",\"static/chunks/app/post/list/page-0ba3687d02d26a58.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"8:[\"$\",\"$L16\",null,{\"searchKeyword\":\"\",\"searchKeywordType\":\"all\",\"page\":\"1\",\"pageSize\":\"30\",\"itemPage\":{\"currentPageNumber\":1,\"pageSize\":30,\"totalPages\":434,\"totalItems\":12991,\"items\":[{\"id\":14368,\"createDate\":\"2025-04-24T01:54:18.530953\",\"modifyDate\":\"2025-04-24T03:46:16.677055\",\"authorId\":14,\"authorName\":\"박상원\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/L2PCa/btsMD5noAKy/FihKhXWPbF5i4PWn5dLXX1/m1.jpg\",\"title\":\"scss 를 이용한 스타벅스 반응형 모작\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14368\u0026darkInvertible=1\"},{\"id\":14367,\"createDate\":\"2025-04-23T14:08:47.362993\",\"modifyDate\":\"2025-04-23T14:08:47.363192\",\"authorId\":19,\"authorName\":\"범수\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/oHkye/btsNnIEkOO7/89BoGxYKJBHkN9rADlKs3k/img_640x640.jpg\",\"title\":\"안녕!\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14367\u0026darkInvertible=1\"},{\"id\":14365,\"createDate\":\"2025-04-23T13:51:15.104093\",\"modifyDate\":\"2025-04-23T14:24:02.475945\",\"authorId\":19,\"authorName\":\"범수\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/oHkye/btsNnIEkOO7/89BoGxYKJBHkN9rADlKs3k/img_640x640.jpg\",\"title\":\"next.js 수업\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://api.slog.gg/gen/postGenFile/thumbnail/2025_04_23/56f0c526-282d-4f91-a3da-e31a28595a10.png?modifyDate=2025-04-23--05-17-53\u0026width=1200\u0026height=1200\u0026darkInvertible=1\"},{\"id\":14363,\"createDate\":\"2025-04-21T02:42:27.565416\",\"modifyDate\":\"2025-04-24T02:51:37.966326\",\"authorId\":14,\"authorName\":\"박상원\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/L2PCa/btsMD5noAKy/FihKhXWPbF5i4PWn5dLXX1/m1.jpg\",\"title\":\"2025, SASS(SCSS) 기초 개념 및 사용법(기초반 2기)\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://api.slog.gg/gen/postGenFile/thumbnail/2025_04_21/538ed503-8ace-42d6-9fbc-6ea59adb7f25.png?modifyDate=2025-04-21--02-42-28\u0026width=1320\u0026height=1320\u0026darkInvertible=1\"},{\"id\":14360,\"createDate\":\"2025-04-20T23:53:26.566665\",\"modifyDate\":\"2025-04-23T02:45:45.723762\",\"authorId\":43,\"authorName\":\"차태진\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/bnSIxT/btsLAg3sbMP/XdSSRQIXjBheIiKrCaYbFk/img_640x640.jpg\",\"title\":\"HA PROXY\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14360\u0026darkInvertible=1\"},{\"id\":14358,\"createDate\":\"2025-04-18T01:08:01.315482\",\"modifyDate\":\"2025-04-23T06:17:49.410408\",\"authorId\":43,\"authorName\":\"차태진\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/bnSIxT/btsLAg3sbMP/XdSSRQIXjBheIiKrCaYbFk/img_640x640.jpg\",\"title\":\"aws, vercel CI/CD\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14358\u0026darkInvertible=1\"},{\"id\":14356,\"createDate\":\"2025-04-15T00:10:32.717536\",\"modifyDate\":\"2025-04-23T01:33:07.609223\",\"authorId\":96,\"authorName\":\"WY\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/1KUDY/btsL3zajb50/wC0oXJxsZFJyDWs0WalKq0/img_640x640.jpg\",\"title\":\"📕 프론트 - 웹(JS)\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://api.slog.gg/gen/postGenFile/thumbnail/2025_04_15/45bc8916-0131-4193-aaec-89f28cbb6745.png?modifyDate=2025-04-15--01-41-05\u0026width=1200\u0026height=1200\u0026darkInvertible=1\"},{\"id\":14355,\"createDate\":\"2025-04-14T05:57:20.99003\",\"modifyDate\":\"2025-04-18T08:26:04.570666\",\"authorId\":43,\"authorName\":\"차태진\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/bnSIxT/btsLAg3sbMP/XdSSRQIXjBheIiKrCaYbFk/img_640x640.jpg\",\"title\":\"AWS, 테라폼, 스프링부트 CI/CD\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14355\u0026darkInvertible=1\"},{\"id\":14350,\"createDate\":\"2025-04-07T00:03:11.578394\",\"modifyDate\":\"2025-04-16T21:32:59.737801\",\"authorId\":43,\"authorName\":\"차태진\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/bnSIxT/btsLAg3sbMP/XdSSRQIXjBheIiKrCaYbFk/img_640x640.jpg\",\"title\":\"fly.io 배포\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14350\u0026darkInvertible=1\"},{\"id\":14349,\"createDate\":\"2025-04-05T11:47:49.849628\",\"modifyDate\":\"2025-04-20T05:53:05.579741\",\"authorId\":14,\"authorName\":\"박상원\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/L2PCa/btsMD5noAKy/FihKhXWPbF5i4PWn5dLXX1/m1.jpg\",\"title\":\"25년 4월 데이터베이스(DB) 기초(주말반)\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14349\u0026darkInvertible=1\"},{\"id\":14348,\"createDate\":\"2025-04-05T08:20:15.717938\",\"modifyDate\":\"2025-04-20T08:54:05.016199\",\"authorId\":14,\"authorName\":\"박상원\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/L2PCa/btsMD5noAKy/FihKhXWPbF5i4PWn5dLXX1/m1.jpg\",\"title\":\"2025, 백엔드 마스터 과정 2기, C언어 기초(주말반)\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14348\u0026darkInvertible=1\"},{\"id\":14347,\"createDate\":\"2025-04-04T19:00:49.049572\",\"modifyDate\":\"2025-04-24T12:53:03.968899\",\"authorId\":14,\"authorName\":\"박상원\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/L2PCa/btsMD5noAKy/FihKhXWPbF5i4PWn5dLXX1/m1.jpg\",\"title\":\"25년 4월, 자바 텍스트 게시판 구현하기(평일반)\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14347\u0026darkInvertible=1\"},{\"id\":14346,\"createDate\":\"2025-04-04T13:01:00.925546\",\"modifyDate\":\"2025-04-14T07:48:55.047526\",\"authorId\":96,\"authorName\":\"WY\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/1KUDY/btsL3zajb50/wC0oXJxsZFJyDWs0WalKq0/img_640x640.jpg\",\"title\":\"? 프론트 - 웹(HTML CSS)\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14346\u0026darkInvertible=1\"},{\"id\":14345,\"createDate\":\"2025-04-07T07:23:19.353992\",\"modifyDate\":\"2025-04-18T06:14:13.775336\",\"authorId\":9,\"authorName\":\"식\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/dqXP8J/btsMTGtxdVd/ick9sP8YN1JGfRapTCKfuK/img_640x640.jpg\",\"title\":\"블로그 프로젝트\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14345\u0026darkInvertible=1\"},{\"id\":14344,\"createDate\":\"2025-04-03T12:06:02.735368\",\"modifyDate\":\"2025-04-04T12:28:50.477774\",\"authorId\":43,\"authorName\":\"차태진\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/bnSIxT/btsLAg3sbMP/XdSSRQIXjBheIiKrCaYbFk/img_640x640.jpg\",\"title\":\"GITHUB ACTIONS\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14344\u0026darkInvertible=1\"},{\"id\":14343,\"createDate\":\"2025-04-03T07:56:58.094179\",\"modifyDate\":\"2025-04-25T00:03:32.280761\",\"authorId\":9,\"authorName\":\"식\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/dqXP8J/btsMTGtxdVd/ick9sP8YN1JGfRapTCKfuK/img_640x640.jpg\",\"title\":\"멋쟁이사자처럼 백엔드 부트캠프 13기\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14343\u0026darkInvertible=1\"},{\"id\":14339,\"createDate\":\"2025-03-31T08:28:46.538878\",\"modifyDate\":\"2025-04-07T00:19:04.677779\",\"authorId\":43,\"authorName\":\"차태진\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/bnSIxT/btsLAg3sbMP/XdSSRQIXjBheIiKrCaYbFk/img_640x640.jpg\",\"title\":\"도커\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14339\u0026darkInvertible=1\"},{\"id\":14338,\"createDate\":\"2025-03-27T14:32:06.390515\",\"modifyDate\":\"2025-03-28T12:39:54.694688\",\"authorId\":43,\"authorName\":\"차태진\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/bnSIxT/btsLAg3sbMP/XdSSRQIXjBheIiKrCaYbFk/img_640x640.jpg\",\"title\":\"도커로 로키 리눅스 컨테이너 쉘 실행\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14338\u0026darkInvertible=1\"},{\"id\":14337,\"createDate\":\"2025-03-27T09:59:32.0486\",\"modifyDate\":\"2025-04-04T10:50:36.852565\",\"authorId\":96,\"authorName\":\"WY\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/1KUDY/btsL3zajb50/wC0oXJxsZFJyDWs0WalKq0/img_640x640.jpg\",\"title\":\"? DBMS\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14337\u0026darkInvertible=1\"},{\"id\":14336,\"createDate\":\"2025-03-27T09:56:34.368134\",\"modifyDate\":\"2025-03-28T18:11:14.89326\",\"authorId\":43,\"authorName\":\"차태진\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/bnSIxT/btsLAg3sbMP/XdSSRQIXjBheIiKrCaYbFk/img_640x640.jpg\",\"title\":\"Bash 명령어\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14336\u0026darkInvertible=1\"},{\"id\":14335,\"createDate\":\"2025-03-24T15:42:18.440764\",\"modifyDate\":\"2025-03-27T09:59:17.864952\",\"authorId\":96,\"authorName\":\"WY\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/1KUDY/btsL3zajb50/wC0oXJxsZFJyDWs0WalKq0/img_640x640.jpg\",\"title\":\"?자바 - ArticleManager\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14335\u0026darkInvertible=1\"},{\"id\":14334,\"createDate\":\"2025-03-24T12:34:35.79908\",\"modifyDate\":\"2025-03-27T18:00:19.217976\",\"authorId\":43,\"authorName\":\"차태진\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/bnSIxT/btsLAg3sbMP/XdSSRQIXjBheIiKrCaYbFk/img_640x640.jpg\",\"title\":\"코프링으로 전환\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14334\u0026darkInvertible=1\"},{\"id\":14333,\"createDate\":\"2025-03-22T21:14:04.676803\",\"modifyDate\":\"2025-03-22T21:16:44.484281\",\"authorId\":184,\"authorName\":\"채형찬\",\"authorProfileImgUrl\":\"http://img1.kakaocdn.net/thumb/R640x640.q70/?fname=http://t1.kakaocdn.net/account_images/default_profile.jpeg\",\"title\":\"임시글\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14333\u0026darkInvertible=1\"},{\"id\":14332,\"createDate\":\"2025-03-21T08:51:58.368983\",\"modifyDate\":\"2025-03-24T15:41:15.944722\",\"authorId\":96,\"authorName\":\"WY\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/1KUDY/btsL3zajb50/wC0oXJxsZFJyDWs0WalKq0/img_640x640.jpg\",\"title\":\"? 자바 - motivation 앱 만들기\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14332\u0026darkInvertible=1\"},{\"id\":14330,\"createDate\":\"2025-03-20T15:03:00.608761\",\"modifyDate\":\"2025-03-24T12:33:54.911884\",\"authorId\":43,\"authorName\":\"차태진\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/bnSIxT/btsLAg3sbMP/XdSSRQIXjBheIiKrCaYbFk/img_640x640.jpg\",\"title\":\"명언 게시판(코틀린) By TDD\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14330\u0026darkInvertible=1\"},{\"id\":14329,\"createDate\":\"2025-03-19T11:32:56.06403\",\"modifyDate\":\"2025-04-08T05:09:28.393691\",\"authorId\":43,\"authorName\":\"차태진\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/bnSIxT/btsLAg3sbMP/XdSSRQIXjBheIiKrCaYbFk/img_640x640.jpg\",\"title\":\"코틀린\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14329\u0026darkInvertible=1\"},{\"id\":14327,\"createDate\":\"2025-03-18T10:41:31.950487\",\"modifyDate\":\"2025-03-20T14:42:48.66481\",\"authorId\":96,\"authorName\":\"WY\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/1KUDY/btsL3zajb50/wC0oXJxsZFJyDWs0WalKq0/img_640x640.jpg\",\"title\":\"?자바 - TDD 다항식 계산기\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14327\u0026darkInvertible=1\"},{\"id\":14323,\"createDate\":\"2025-03-14T18:50:53.713254\",\"modifyDate\":\"2025-04-07T12:59:53.48947\",\"authorId\":14,\"authorName\":\"박상원\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/L2PCa/btsMD5noAKy/FihKhXWPbF5i4PWn5dLXX1/m1.jpg\",\"title\":\"2025년, 자바스크립트와 제이쿼리 기초 1기\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14323\u0026darkInvertible=1\"},{\"id\":14322,\"createDate\":\"2025-03-13T18:32:02.387734\",\"modifyDate\":\"2025-04-04T20:38:46.040031\",\"authorId\":14,\"authorName\":\"박상원\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/L2PCa/btsMD5noAKy/FihKhXWPbF5i4PWn5dLXX1/m1.jpg\",\"title\":\"2025, 백엔드 마스터 과정 1기, Java 기초\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14322\u0026darkInvertible=1\"},{\"id\":14321,\"createDate\":\"2025-03-13T10:09:45.684661\",\"modifyDate\":\"2025-04-22T03:35:22.599976\",\"authorId\":14,\"authorName\":\"박상원\",\"authorProfileImgUrl\":\"http://k.kakaocdn.net/dn/L2PCa/btsMD5noAKy/FihKhXWPbF5i4PWn5dLXX1/m1.jpg\",\"title\":\"2025년 HTML, CSS 기초반 2기\",\"published\":true,\"listed\":true,\"thumbnailImgUrl\":\"https://placehold.co/1200x1200?text=POST 14321\u0026darkInvertible=1\"}]}}]\n"])</script></body></html>